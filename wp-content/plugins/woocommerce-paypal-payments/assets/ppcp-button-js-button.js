(()=>{"use strict";var e={4744:e=>{var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function o(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function u(e,r,c){(c=c||{}).arrayMerge=c.arrayMerge||o,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=n;var l=Array.isArray(r);return l===Array.isArray(e)?l?c.arrayMerge(e,r,c):function(e,t,r){var o={};return r.isMergeableObject(e)&&i(e).forEach(function(t){o[t]=n(e[t],r)}),i(t).forEach(function(i){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(a(e,i)&&r.isMergeableObject(t[i])?o[i]=function(e,t){if(!t.customMerge)return u;var r=t.customMerge(e);return"function"==typeof r?r:u}(i,r)(e[i],t[i],r):o[i]=n(t[i],r))}),o}(e,r,c):n(r,c)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return u(e,r,t)},{})};var c=u;e.exports=c}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"form.woocommerce-checkout";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=t}return t=e,n=[{key:"fullPage",value:function(){return new e(window)}}],(r=[{key:"setTarget",value:function(e){this.target=e}},{key:"block",value:function(){jQuery(this.target).block({message:null,overlayCSS:{background:"#fff",opacity:.6},baseZ:1e4})}},{key:"unblock",value:function(){jQuery(this.target).unblock()}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();const u=a,c=function(e,t){return function(r,n){var o=u.fullPage();o.block();var i=!e.config.vaultingEnabled||"venmo"!==r.paymentSource,a={nonce:e.config.ajax.approve_order.nonce,order_id:r.orderID,funding_source:window.ppcpFundingSource,should_create_wc_order:i};return i&&r.payer&&(a.payer=r.payer),i&&r.shippingAddress&&(a.shipping_address=r.shippingAddress),fetch(e.config.ajax.approve_order.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(r){var o;if(!r.success)return t.genericError(),n.restart().catch(function(){t.genericError()});var i,a=null===(o=r.data)||void 0===o?void 0:o.order_received_url;i=a||e.config.redirect,setTimeout(function(){window.location.href=i},200)}).finally(function(){o.unblock()})}};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p={"#billing_email":["email_address"],"#billing_last_name":["name","surname"],"#billing_first_name":["name","given_name"],"#billing_country":["address","country_code"],"#billing_address_1":["address","address_line_1"],"#billing_address_2":["address","address_line_2"],"#billing_state":["address","admin_area_1"],"#billing_city":["address","admin_area_2"],"#billing_postcode":["address","postal_code"],"#billing_phone":["phone"]};function d(e){var t,r,n,o,i,a,u,c;return{email_address:e.email_address,phone:e.phone,name:{surname:null===(t=e.name)||void 0===t?void 0:t.surname,given_name:null===(r=e.name)||void 0===r?void 0:r.given_name},address:{country_code:null===(n=e.address)||void 0===n?void 0:n.country_code,address_line_1:null===(o=e.address)||void 0===o?void 0:o.address_line_1,address_line_2:null===(i=e.address)||void 0===i?void 0:i.address_line_2,admin_area_1:null===(a=e.address)||void 0===a?void 0:a.admin_area_1,admin_area_2:null===(u=e.address)||void 0===u?void 0:u.admin_area_2,postal_code:null===(c=e.address)||void 0===c?void 0:c.postal_code}}}function y(){var e,t,r=null!==(e=null===(t=window)||void 0===t||null===(t=t.PayPalCommerceGateway)||void 0===t?void 0:t.payer)&&void 0!==e?e:window._PpcpPayerSessionDetails;if(!r)return null;var n,o,i=function(){var e={};return Object.entries(p).forEach(function(t){var r=s(t,2),n=r[0],o=r[1],i=function(e){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.value}(n);i&&function(e,t,r){for(var n=e,o=0;o<t.length-1;o++)n=n[t[o]]=n[t[o]]||{};n[t[t.length-1]]=r}(e,o,i)}),e.phone&&"string"==typeof e.phone&&(e.phone={phone_type:"HOME",phone_number:{national_number:e.phone}}),e}();return i?(n=i,(o=function(e,t){for(var r=0,n=Object.entries(t);r<n.length;r++){var i=s(n[r],2),a=i[0],u=i[1];null!=u&&("object"===l(u)?e[a]=o(e[a]||{},u):e[a]=u)}return e})(d(r),d(n))):d(r)}var m={PAYPAL:"ppcp-gateway",CARDS:"ppcp-credit-card-gateway",OXXO:"ppcp-oxxo-gateway",CARD_BUTTON:"ppcp-card-button-gateway",GOOGLEPAY:"ppcp-googlepay",APPLEPAY:"ppcp-applepay"},b="#place_order",h=function(){var e=document.querySelector('input[name="payment_method"]:checked');return e?e.value:null};function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function w(e){var t=function(e){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}var _,S,j,P=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"cleanHashParams",value:function(){var e=this;if(window.location.hash){var t=window.location.hash.substring(1).split("&").filter(function(t){var r=t.split("=")[0];return!e.PAYPAL_PARAMS.includes(r)});if(t.length>0){var r="#"+t.join("&");window.history.replaceState(null,"",window.location.pathname+window.location.search+r)}else window.history.replaceState(null,"",window.location.pathname+window.location.search)}}},{key:"isResumeFlow",value:function(){return!!window.location.hash&&window.location.hash.substring(1).split("&").some(function(e){return"switch_initiated_time"===e.split("=")[0]})}},{key:"reloadButtonsIfRequired",value:function(e){this.isResumeFlow()&&(this.cleanHashParams(),jQuery(e).trigger("ppcp-reload-buttons"))}}],null&&g(e.prototype,null),t&&g(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();_=P,j=["onApprove","token","PayerID","payerID","button_session_id","billingToken","orderID","switch_initiated_time","onCancel","onError"],(S=w(S="PAYPAL_PARAMS"))in _?Object.defineProperty(_,S,{value:j,enumerable:!0,configurable:!0,writable:!0}):_[S]=j;const O=P;function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var A=function(){return function(e,t){return t&&C(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.errorHandler=r},[{key:"subscriptionsConfiguration",value:function(e){var t=this;return{createSubscription:function(t,r){return r.subscription.create({plan_id:e})},onApprove:function(e){fetch(t.config.ajax.approve_subscription.endpoint,{method:"POST",credentials:"same-origin",body:JSON.stringify({nonce:t.config.ajax.approve_subscription.nonce,order_id:e.orderID,subscription_id:e.subscriptionID,should_create_wc_order:!t.config.vaultingEnabled||"venmo"!==e.paymentSource})}).then(function(e){return e.json()}).then(function(e){var r;if(!e.success)throw Error(e.data.message);var n=null===(r=e.data)||void 0===r?void 0:r.order_received_url;location.href=n||t.config.redirect})},onError:function(e){console.error(e)}}}},{key:"configuration",value:function(){var e=this;return{createOrder:function(){var t=y(),r=void 0!==e.config.bn_codes[e.config.context]?e.config.bn_codes[e.config.context]:"";return fetch(e.config.ajax.create_order.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:e.config.ajax.create_order.nonce,purchase_units:[],payment_method:m.PAYPAL,funding_source:window.ppcpFundingSource,bn_code:r,payer:t,context:e.config.context})}).then(function(e){return e.json()}).then(function(e){if(!e.success)throw console.error(e),Error(e.data.message);return e.data.id})},onApprove:c(this,this.errorHandler),onCancel:function(){O.reloadButtonsIfRequired(e.config.button.wrapper)},onError:function(){e.errorHandler.genericError(),O.reloadButtonsIfRequired(e.config.button.wrapper)}}}}])}();const T=A;var x=function(e){return"string"==typeof e?document.querySelector(e):e},B=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=x(e);n&&(t?(jQuery(n).removeClass("ppcp-disabled").off("mouseup").find("> *").css("pointer-events",""),function(e,t){jQuery(document).trigger("ppcp-enabled",{handler:"ButtonsDisabler.setEnabled",action:"enable",selector:e,element:t})}(e,n)):(jQuery(n).addClass("ppcp-disabled").on("mouseup",function(e){if(e.stopImmediatePropagation(),r){var t=jQuery(r);t.find(".single_add_to_cart_button").hasClass("disabled")&&t.find(":submit").trigger("click")}}).find("> *").css("pointer-events","none"),function(e,t){jQuery(document).trigger("ppcp-disabled",{handler:"ButtonsDisabler.setEnabled",action:"disable",selector:e,element:t})}(e,n)))},I=r(4744),G=r.n(I);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function D(e){var t=function(e){if("object"!=F(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==F(t)?t:t+""}var M=function(){return function(e,t,r){return r&&q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},0,[{key:"handleButtonStatus",value:function(e,t){(t=t||{}).wrapper=t.wrapper||e.gateway.button.wrapper;var r,n,o=(r=t.wrapper,!!(n=x(r))&&jQuery(n).hasClass("ppcp-disabled")),i=e.shouldEnable();i&&o?(e.renderer.enableSmartButtons(t.wrapper),function(e){B(e,!0)}(t.wrapper)):i||o||(e.renderer.disableSmartButtons(t.wrapper),function(e){B(e,!1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}(t.wrapper,t.formSelector||null)),o!==!i&&jQuery(t.wrapper).trigger("ppcp_buttons_enabled_changed",[i])}},{key:"shouldEnable",value:function(e,t){return void 0===(t=t||{}).isDisabled&&(t.isDisabled=e.gateway.button.is_disabled),e.shouldRender()&&!0!==t.isDisabled}},{key:"updateScriptData",value:function(e,t){var r=G()(e.gateway,t),n=JSON.stringify(e.gateway)!==JSON.stringify(r);e.gateway=r,n&&jQuery(document.body).trigger("ppcp_script_data_changed",[r])}}])}();function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){N(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e,t,r){return(t=U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}function U(e){var t=function(e){if("object"!=H(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==H(t)?t:t+""}var V=function(){return function(e,t){return t&&L(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gateway=t,this.renderer=r,this.errorHandler=n,this.actionHandler=null},[{key:"init",value:function(){var e=this,t=Q(Q({},PayPalCommerceGateway),{},{context:"mini-cart"});this.actionHandler=new T(t,this.errorHandler),this.render(),this.handleButtonStatus(),jQuery(document.body).on("wc_fragments_loaded wc_fragments_refreshed",function(){e.render(),e.handleButtonStatus()}),this.renderer.onButtonsInit(this.gateway.button.mini_cart_wrapper,function(){e.handleButtonStatus()},!0)}},{key:"handleButtonStatus",value:function(){M.handleButtonStatus(this,{wrapper:this.gateway.button.mini_cart_wrapper,skipMessages:!0})}},{key:"shouldRender",value:function(){return null!==document.querySelector(this.gateway.button.mini_cart_wrapper)||null!==document.querySelector(this.gateway.hosted_fields.mini_cart_wrapper)}},{key:"shouldEnable",value:function(){return M.shouldEnable(this,{isDisabled:!!this.gateway.button.is_mini_cart_disabled})}},{key:"render",value:function(){this.shouldRender()&&this.renderer.render(this.actionHandler.configuration(),{button:{wrapper:this.gateway.button.mini_cart_wrapper,style:this.gateway.button.mini_cart_style}})}}])}();const J=V;function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){Y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Y(e,t,r){return(t=X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X(n.key),n)}}function X(e){var t=function(e){if("object"!=W(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==W(t)?t:t+""}var Z=function(){return function(e,t){return t&&K(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=t,this.nonce=r},[{key:"update",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(o,i){fetch(r.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify($({nonce:r.nonce,products:t},n))}).then(function(e){return e.json()}).then(function(t){if(t.success){var r=e(t.data);o(r)}else i(t.data)})})}}])}();const ee=Z;function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ne(n.key),n)}}function ne(e){var t=function(e){if("object"!=te(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==te(t)?t:t+""}var oe=function(){return function(e,t){return t&&re(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.quantity=r,this.variations=n,this.extra=o},[{key:"data",value:function(){return{id:this.id,quantity:this.quantity,variations:this.variations,extra:this.extra}}}])}();const ie=oe;function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach(function(t){le(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function le(e,t,r){return(t=fe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fe(n.key),n)}}function fe(e){var t=function(e){if("object"!=ae(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ae(t)?t:t+""}function pe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pe=function(){return!!e})()}function de(){return de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ye(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},de.apply(null,arguments)}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},me(e,t)}var be=function(e){function t(e,r,n,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=function(e,t,r){return t=ye(t),function(e,t){if(t&&("object"==ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pe()?Reflect.construct(t,r||[],ye(e).constructor):t.apply(e,r))}(this,t,[e,r,null,o])).booking=n,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}(t,e),function(e,t){return t&&se(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"data",value:function(){return ce(ce({},function(e,t,r){var n=de(ye(e.prototype),"data",r);return"function"==typeof n?function(e){return n.apply(r,e)}:n}(t,0,this)([])),{},{booking:this.booking})}}])}(ie);const he=be;function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ge(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return we(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var _n=0,n=function(){};return{s:n,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Se(n.key),n)}}function Se(e){var t=function(e){if("object"!=ve(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ve(t)?t:t+""}var je=function(){return function(e,t){return t&&_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cartItemKeys=t},[{key:"getEndpoint",value:function(){var e="/?wc-ajax=%%endpoint%%";return"undefined"!=typeof wc_cart_fragments_params&&wc_cart_fragments_params.wc_ajax_url&&(e=wc_cart_fragments_params.wc_ajax_url),e.toString().replace("%%endpoint%%","remove_from_cart")}},{key:"addFromPurchaseUnits",value:function(e){var t,r=ge(e||[]);try{for(r.s();!(t=r.n()).done;){var n,o=ge(t.value.items||[]);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.cart_item_key&&this.cartItemKeys.push(i.cart_item_key)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}return this}},{key:"removeFromCart",value:function(){var e=this;return new Promise(function(t,r){if(e.cartItemKeys&&e.cartItemKeys.length){var n,o=e.cartItemKeys.length,i=0,a=function(){++i>=o&&t()},u=ge(e.cartItemKeys);try{for(u.s();!(n=u.n()).done;){var c=n.value,l=new URLSearchParams;l.append("cart_item_key",c),c?fetch(e.getEndpoint(),{method:"POST",credentials:"same-origin",body:l}).then(function(e){return e.json()}).then(function(){a()}).catch(function(){a()}):a()}}catch(e){u.e(e)}finally{u.f()}}else t()})}}])}();const Pe=je;function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||Ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ee(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var _n=0,n=function(){};return{s:n,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Ee(e,t){if(e){if("string"==typeof e)return Ae(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xe(n.key),n)}}function xe(e){var t=function(e){if("object"!=Oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oe(t)?t:t+""}var Be=function(){return function(e,t,r){return r&&Te(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},0,[{key:"getPrefixedFields",value:function(e,t){var r,n={},o=Ce(new FormData(e).entries());try{for(o.s();!(r=o.n()).done;){var i=ke(r.value,2),a=i[0],u=i[1];t&&!a.startsWith(t)||(n[a]=u)}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"getFilteredFields",value:function(e,t,r){var n,o=new FormData(e),i={},a={},u=Ce(o.entries());try{var c=function(){var e=ke(n.value,2),o=e[0],u=e[1];if(-1!==o.indexOf("[]")){var c=o;a[c]=a[c]||0,o=o.replace("[]","[".concat(a[c],"]")),a[c]++}return o?t&&-1!==t.indexOf(o)||r&&r.some(function(e){return o.startsWith(e)})?0:void(i[o]=u):0};for(u.s();!(n=u.n()).done;)c()}catch(e){u.e(e)}finally{u.f()}return i}}])}();function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qe(n.key),n)}}function qe(e){var t=function(e){if("object"!=Ie(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ie(t)?t:t+""}var De=function(){return function(e,t){return t&&Fe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.cartUpdater=r,this.formElement=n,this.errorHandler=o,this.cartHelper=null},[{key:"subscriptionsConfiguration",value:function(e){var t=this;return{createSubscription:function(t,r){return r.subscription.create({plan_id:e})},onApprove:function(e,r){fetch(t.config.ajax.approve_subscription.endpoint,{method:"POST",credentials:"same-origin",body:JSON.stringify({nonce:t.config.ajax.approve_subscription.nonce,order_id:e.orderID,subscription_id:e.subscriptionID})}).then(function(e){return e.json()}).then(function(){var e=t.getSubscriptionProducts();fetch(t.config.ajax.change_cart.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:t.config.ajax.change_cart.nonce,products:e})}).then(function(e){return e.json()}).then(function(e){if(!e.success)throw console.log(e),Error(e.data.message);location.href=t.config.redirect})})},onError:function(e){console.error(e),O.reloadButtonsIfRequired(t.config.button.wrapper)}}}},{key:"getSubscriptionProducts",value:function(){var e=document.querySelector('[name="add-to-cart"]').value;return[new ie(e,1,this.variations(),this.extraFields())]}},{key:"configuration",value:function(){var e=this;return{createOrder:this.createOrder(),onApprove:c(this,this.errorHandler),onError:function(t){e.refreshMiniCart(),e.isBookingProduct()&&t.message?(e.errorHandler.clear(),e.errorHandler.message(t.message)):e.errorHandler.genericError(),O.reloadButtonsIfRequired(e.config.button.wrapper)},onCancel:function(){e.isBookingProduct()?e.cleanCart():e.refreshMiniCart(),O.reloadButtonsIfRequired(e.config.button.wrapper)}}}},{key:"getProducts",value:function(){var e=this;if(this.isBookingProduct()){var t=document.querySelector('[name="add-to-cart"]').value;return[new he(t,1,Be.getPrefixedFields(this.formElement,"wc_bookings_field"),this.extraFields())]}if(this.isGroupedProduct()){var r=[];return this.formElement.querySelectorAll('input[type="number"]').forEach(function(t){if(t.value){var n=t.getAttribute("name").match(/quantity\[([\d]*)\]/);if(2===n.length){var o=parseInt(n[1]),i=parseInt(t.value);r.push(new ie(o,i,null,e.extraFields()))}}}),r}var n=document.querySelector('[name="add-to-cart"]').value,o=document.querySelector('[name="quantity"]').value,i=this.variations();return[new ie(n,o,i,this.extraFields())]}},{key:"extraFields",value:function(){return Be.getFilteredFields(this.formElement,["add-to-cart","quantity","product_id","variation_id"],["attribute_","wc_bookings_field"])}},{key:"createOrder",value:function(){var e=this;return this.cartHelper=null,function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.errorHandler.clear(),e.cartUpdater.update(function(t){e.cartHelper=(new Pe).addFromPurchaseUnits(t);var r=y(),n=void 0!==e.config.bn_codes[e.config.context]?e.config.bn_codes[e.config.context]:"";return fetch(e.config.ajax.create_order.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:e.config.ajax.create_order.nonce,purchase_units:t,payer:r,bn_code:n,payment_method:m.PAYPAL,funding_source:window.ppcpFundingSource,context:e.config.context})}).then(function(e){return e.json()}).then(function(e){if(!e.success)throw console.error(e),Error(e.data.message);return e.data.id})},e.getProducts(),n.updateCartOptions||{})}}},{key:"updateCart",value:function(e){return this.cartUpdater.update(function(e){return e},this.getProducts(),e)}},{key:"variations",value:function(){return this.hasVariations()?function(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ge(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.formElement.querySelectorAll("[name^='attribute_']")).map(function(e){return{value:e.value,name:e.name}}):null}},{key:"hasVariations",value:function(){return this.formElement.classList.contains("variations_form")}},{key:"isGroupedProduct",value:function(){return this.formElement.classList.contains("grouped_form")}},{key:"isBookingProduct",value:function(){return!!this.formElement.querySelector(".wc-booking-product-id")}},{key:"cleanCart",value:function(){var e=this;this.cartHelper.removeFromCart().then(function(){e.refreshMiniCart()}).catch(function(t){e.refreshMiniCart()})}},{key:"refreshMiniCart",value:function(){jQuery(document.body).trigger("wc_fragment_refresh")}}])}();const Me=De;var He=function(e){return"string"==typeof e?document.querySelector(e):e},Re=function(e,t,r){jQuery(document).trigger("ppcp-hidden",{handler:e,action:"hide",selector:t,element:r})},Qe=function(e,t,r){jQuery(document).trigger("ppcp-shown",{handler:e,action:"show",selector:t,element:r})},Ne=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=He(e);if(n){var o=n.style.getPropertyValue("display");if(t)"none"===o&&(n.style.removeProperty("display"),Qe("Hiding.setVisible",e,n)),function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(n)||(n.style.setProperty("display","block"),Qe("Hiding.setVisible",e,n));else{if("none"===o)return;n.style.setProperty("display","none",r?"important":""),Re("Hiding.setVisible",e,n)}}},Le=function(e,t,r){var n=He(e);n&&(t?(n.classList.remove(r),Qe("Hiding.setVisibleByClass",e,n)):(n.classList.add(r),Re("Hiding.setVisibleByClass",e,n)))},Ue=function(e){Ne(e,!1,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},Ve=function(e){Ne(e,!0)};function Je(e,t){void 0===t&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(e){r.setAttribute(e,t[e]),"data-csp-nonce"===e&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function We(e,t){if(void 0===t&&(t=Promise),$e(e,t),"undefined"==typeof document)return t.resolve(null);var r=function(e){var t,r,n=e.sdkBaseUrl,o=e.environment,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["sdkBaseUrl","environment"]),a=n||function(e){return"sandbox"===e?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}(o),u=i,c=Object.keys(u).filter(function(e){return void 0!==u[e]&&null!==u[e]&&""!==u[e]}).reduce(function(e,t){var r,n=u[t].toString();return r=function(e,t){return(t?"-":"")+e.toLowerCase()},"data"===(t=t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,r)).substring(0,4)||"crossorigin"===t?e.attributes[t]=n:e.queryParams[t]=n,e},{queryParams:{},attributes:{}}),l=c.queryParams,s=c.attributes;return l["merchant-id"]&&-1!==l["merchant-id"].indexOf(",")&&(s["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(a,"?").concat((t=l,r="",Object.keys(t).forEach(function(e){0!==r.length&&(r+="&"),r+=e+"="+t[e]}),r)),attributes:s}}(e),n=r.url,o=r.attributes,i=o["data-namespace"]||"paypal",a=ze(i);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),function(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(null===r)return null;var n=Je(e,t),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(n.dataset).length)return null;var i=!0;return Object.keys(o.dataset).forEach(function(e){o.dataset[e]!==n.dataset[e]&&(i=!1)}),i?r:null}(n,o)&&a?t.resolve(a):function(e,t){void 0===t&&(t=Promise),$e(e,t);var r=e.url,n=e.attributes;if("string"!=typeof r||0===r.length)throw new Error("Invalid url.");if(void 0!==n&&"object"!=typeof n)throw new Error("Expected attributes to be an object.");return new t(function(e,t){if("undefined"==typeof document)return e();!function(e){var t=e.onSuccess,r=e.onError,n=Je(e.url,e.attributes);n.onerror=r,n.onload=t,document.head.insertBefore(n,document.head.firstElementChild)}({url:r,attributes:n,onSuccess:function(){return e()},onError:function(){var e=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return t(e)}})})}({url:n,attributes:o},t).then(function(){var e=ze(i);if(e)return e;throw new Error("The window.".concat(i," global variable is not available."))})}function ze(e){return window[e]}function $e(e,t){if("object"!=typeof e||null===e)throw new Error("Expected an options object.");var r=e.environment;if(r&&"production"!==r&&"sandbox"!==r)throw new Error('The `environment` option must be either "production" or "sandbox".');if(void 0!==t&&"function"!=typeof t)throw new Error("Expected PromisePonyfill to be a function.")}"function"==typeof SuppressedError&&SuppressedError;const Ye=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:t.nonce})}).then(function(e){return e.json()}).then(function(o){var i;(function(e,t){return!(!e||e.user!==t||(new Date).getTime()>=1e3*e.expiration)})(o,t.user)&&(i=o,sessionStorage.setItem("ppcp-data-client-id",JSON.stringify(i)),e["data-client-token"]=o.token,We(e).then(function(e){"function"==typeof r&&r(e)}).catch(function(e){"function"==typeof n&&n(e)}))})};function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||et(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=et(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var _n=0,n=function(){};return{s:n,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function et(e,t){if(e){if("string"==typeof e)return tt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(e,t):void 0}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nt(n.key),n)}}function nt(e){var t=function(e){if("object"!=Ke(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ke(t)?t:t+""}var ot=function(){return function(e,t){return t&&rt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paypal=null,this.buttons=new Map,this.messages=new Map,this.renderEventName="ppcp-render",document.ppcpWidgetBuilderStatus=function(){console.log({buttons:t.buttons,messages:t.messages})},jQuery(document).off(this.renderEventName).on(this.renderEventName,function(){t.renderAll()})},[{key:"setPaypal",value:function(e){this.paypal=e,jQuery(document).trigger("ppcp-paypal-loaded",e)}},{key:"registerButtons",value:function(e,t){e=this.sanitizeWrapper(e),this.buttons.set(this.toKey(e),{wrapper:e,options:t})}},{key:"renderButtons",value:function(e){e=this.sanitizeWrapper(e);var t=this.toKey(e);if(this.buttons.has(t)&&!this.hasRendered(e)){var r=this.buttons.get(t),n=this.paypal.Buttons(r.options);if(n.isEligible()){var o=this.buildWrapperTarget(e);o&&(n.hasReturned()?n.resume():n.render(o))}else this.buttons.delete(t)}}},{key:"renderAllButtons",value:function(){var e,t=Ze(this.buttons);try{for(t.s();!(e=t.n()).done;){var r=Xe(e.value,1)[0];this.renderButtons(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"registerMessages",value:function(e,t){this.messages.set(e,{wrapper:e,options:t})}},{key:"renderMessages",value:function(e){var t=this;if(this.messages.has(e)){var r=this.messages.get(e);if(this.hasRendered(e))document.querySelector(e).setAttribute("data-pp-amount",r.options.amount);else{var n=this.paypal.Messages(r.options);n.render(r.wrapper),setTimeout(function(){t.hasRendered(e)||n.render(r.wrapper)},100)}}}},{key:"renderAllMessages",value:function(){var e,t=Ze(this.messages);try{for(t.s();!(e=t.n()).done;){var r=Xe(e.value,2),n=r[0];r[1],this.renderMessages(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"renderAll",value:function(){this.renderAllButtons(),this.renderAllMessages()}},{key:"hasRendered",value:function(e){var t=e;if(Array.isArray(e)){t=e[0];var r,n=Ze(e.slice(1));try{for(n.s();!(r=n.n()).done;)t+=" .item-"+r.value}catch(e){n.e(e)}finally{n.f()}}var o=document.querySelector(t);return o&&o.hasChildNodes()}},{key:"sanitizeWrapper",value:function(e){return Array.isArray(e)&&1===(e=e.filter(function(e){return!!e})).length&&(e=e[0]),e}},{key:"buildWrapperTarget",value:function(e){var t=e;if(Array.isArray(e)){var r=jQuery(e[0]);if(!r.length)return;var n="item-"+e[1],o=r.find("."+n);o.length||(o=jQuery('<div class="'.concat(n,'"></div>')),r.append(o)),t=o.get(0)}return jQuery(t).length?t:null}},{key:"toKey",value:function(e){return Array.isArray(e)?JSON.stringify(e):e}}])}();window.widgetBuilder=window.widgetBuilder||new ot;const it=window.widgetBuilder;var at=function(e){return e.replace(/([-_]\w)/g,function(e){return e[1].toUpperCase()})},ut=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[at(r)]=e[r]);return t},ct=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",n=e.split(r);return n.includes(t)||n.push(t),n.join(r)},lt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",n=e.split(r),o=n.indexOf(t);return-1!==o&&n.splice(o,1),n.join(r)},st=function(e,t){var r,n,o;function i(){r=!0,e.apply(this,arguments),setTimeout(function(){if(r=!1,n){var e=n,t=o;n=o=null,i.apply(t,e)}},t)}return function(){r?(n=arguments,o=this):i.apply(this,arguments)}};function ft(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return pt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var _n=0,n=function(){};return{s:n,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var dt={};function yt(e){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(e)}var mt=function(){return new URLSearchParams(window.location.search).has("change_payment_method")};function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vt(n.key),n)}}function vt(e){var t=function(e){if("object"!=bt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bt(t)?t:t+""}var gt=function(){return function(e,t){return t&&ht(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=t,this.nonce=r},[{key:"simulate",value:function(e,t){var r=this;return new Promise(function(n,o){fetch(r.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:r.nonce,products:t})}).then(function(e){return e.json()}).then(function(t){if(t.success){var r=e(t.data);n(r)}else o(t.data)})})}}])}();const wt=gt;function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||jt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){if(e){if("string"==typeof e)return Pt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pt(e,t):void 0}}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kt(n.key),n)}}function kt(e){var t=function(e){if("object"!=_t(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_t(t)?t:t+""}var Ct=function(){return function(e,t){return t&&Ot(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n){var o,i,a,u,c,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gateway=t,this.renderer=r,this.errorHandler=n,this.mutationObserver=new MutationObserver(this.handleChange.bind(this)),this.formSelector="form.cart",this.simulateCartThrottled=st(this.simulateCart.bind(this),this.gateway.simulate_cart.throttling||5e3),this.debouncedHandleChange=(o=this.handleChange.bind(this),i={timeoutId:null,args:null},u=function(){i.timeoutId&&(o.apply(null,i.args||[]),a())},c=function(){a();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.args=t,i.timeoutId=window.setTimeout(u,100)},c.cancel=a=function(){i.timeoutId&&window.clearTimeout(i.timeoutId),i.timeoutId=null,i.args=null},c.flush=u,c),this.renderer.onButtonsInit(this.gateway.button.wrapper,function(){l.handleChange()},!0),this.subscriptionButtonsLoaded=!1},[{key:"form",value:function(){return document.querySelector(this.formSelector)}},{key:"handleChange",value:function(){if(this.subscriptionButtonsLoaded=!1,!this.shouldRender())return this.renderer.disableSmartButtons(this.gateway.button.wrapper),void Ue(this.gateway.button.wrapper,this.formSelector);O.isResumeFlow()||this.render(),this.renderer.enableSmartButtons(this.gateway.button.wrapper),Ve(this.gateway.button.wrapper),this.handleButtonStatus()}},{key:"handleButtonStatus",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];M.handleButtonStatus(this,{formSelector:this.formSelector}),e&&this.simulateCartThrottled()}},{key:"init",value:function(){var e=this,t=this.form();if(t){jQuery(document).on("change",this.formSelector,function(){e.debouncedHandleChange()}),this.mutationObserver.observe(t,{childList:!0,subtree:!0});var r=t.querySelector(".single_add_to_cart_button");r&&new MutationObserver(this.handleButtonStatus.bind(this)).observe(r,{attributes:!0}),jQuery(document).on("ppcp_should_show_messages",function(t,r){e.shouldRender()||(r.result=!1)}),this.shouldRender()&&(this.render(),this.handleChange())}}},{key:"shouldRender",value:function(){return null!==this.form()&&!this.isWcsattSubscriptionMode()}},{key:"shouldEnable",value:function(){var e=this.form(),t=e?e.querySelector(".single_add_to_cart_button"):null;return M.shouldEnable(this)&&!this.priceAmountIsZero()&&(null===t||!t.classList.contains("disabled"))}},{key:"priceAmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[function(){var e;return null===(e=document.querySelector("form.cart ins .woocommerce-Price-amount"))||void 0===e?void 0:e.innerText},function(){var e;return null===(e=document.querySelector("form.cart .woocommerce-Price-amount"))||void 0===e?void 0:e.innerText},function(){var e=document.querySelector(".product .woocommerce-Price-amount");return e&&1===Array.from(e.parentElement.querySelectorAll(".woocommerce-Price-amount")).filter(function(e){return!e.parentElement.classList.contains("woocommerce-price-suffix")}).length?e.innerText:null}].map(function(e){return e()}).filter(function(e){return null!=e}).sort(function(e,t){return parseInt(e.replace(/\D/g,""))<parseInt(t.replace(/\D/g,""))?1:-1}).find(function(e){return e});return void 0===t?e:t?parseFloat(t.replace(/,/g,".").replace(/([^\d,\.\s]*)/g,"")):0}},{key:"priceAmountIsZero",value:function(){var e=this.priceAmount(-1);return-1!==e&&(!e||0===e)}},{key:"isWcsattSubscriptionMode",value:function(){return null!==document.querySelector('.wcsatt-options-product:not(.wcsatt-options-product--hidden) .subscription-option input[type="radio"]:checked')||null!==document.querySelector('.wcsatt-options-prompt-label-subscription input[type="radio"]:checked')}},{key:"variations",value:function(){var e;return this.hasVariations()?function(e){return function(e){if(Array.isArray(e))return Pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(null===(e=document.querySelector("form.cart"))||void 0===e?void 0:e.querySelectorAll("[name^='attribute_']")).map(function(e){return{value:e.value,name:e.name}}):null}},{key:"hasVariations",value:function(){var e;return null===(e=document.querySelector("form.cart"))||void 0===e?void 0:e.classList.contains("variations_form")}},{key:"render",value:function(){var e,t,r,n=new Me(this.gateway,new ee(this.gateway.ajax.change_cart.endpoint,this.gateway.ajax.change_cart.nonce),this.form(),this.errorHandler);if(PayPalCommerceGateway.data_client_id.has_subscriptions&&PayPalCommerceGateway.data_client_id.paypal_subscriptions_enabled){document.getElementById("ppc-button-ppcp-gateway").innerHTML="";var o=null!==this.variations()?function(e){var t="";return PayPalCommerceGateway.variable_paypal_subscription_variations.forEach(function(r){var n={};e.forEach(function(e){var t=e.name,r=e.value;Object.assign(n,function(e,t,r){return(t=function(e){var t=function(e){if("object"!=yt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t.replace("attribute_",""),r))}),JSON.stringify(n)===JSON.stringify(r.attributes)&&""!==r.subscription_plan&&(t=r.subscription_plan)}),t}(this.variations()):PayPalCommerceGateway.subscription_plan_id;if(!o)return;if(this.subscriptionButtonsLoaded)return;return e={clientId:PayPalCommerceGateway.client_id,currency:PayPalCommerceGateway.currency,intent:"subscription",vault:!0,disable_funding:this.gateway.url_params["disable-funding"]},t=n.subscriptionsConfiguration(o),r=this.gateway.button.wrapper,We(e).then(function(e){e.Buttons(t).render(r)}),void(this.subscriptionButtonsLoaded=!0)}!this.gateway.vaultingEnabled&&["subscription","variable-subscription"].includes(this.gateway.productType)&&"1"!==this.gateway.manualRenewalEnabled||this.renderer.render(n.configuration())}},{key:"simulateCart",value:function(){var e=this;if(this.gateway.simulate_cart.enabled){var t=new Me(null,null,this.form(),this.errorHandler),r=PayPalCommerceGateway.data_client_id.has_subscriptions&&PayPalCommerceGateway.data_client_id.paypal_subscriptions_enabled?t.getSubscriptionProducts():t.getProducts();new wt(this.gateway.ajax.simulate_cart.endpoint,this.gateway.ajax.simulate_cart.nonce).simulate(function(t){jQuery(document.body).trigger("ppcp_product_total_updated",[t.total]);var r={};if("boolean"==typeof t.button.is_disabled&&(r=G()(r,{button:{is_disabled:t.button.is_disabled}})),"boolean"==typeof t.messages.is_hidden&&(r=G()(r,{messages:{is_hidden:t.messages.is_hidden}})),r&&M.updateScriptData(e,r),"1"===e.gateway.single_product_buttons_enabled){for(var n=e.gateway.url_params["enable-funding"],o=e.gateway.url_params["disable-funding"],i=0,a=Object.entries(t.funding);i<a.length;i++){var u=St(a[i],2),c=u[0],l=u[1];!0===l.enabled?(n=ct(n,c),o=lt(o,c)):!1===l.enabled&&(n=lt(n,c),o=ct(o,c))}n===e.gateway.url_params["enable-funding"]&&o===e.gateway.url_params["disable-funding"]||(e.gateway.url_params["enable-funding"]=n,e.gateway.url_params["disable-funding"]=o,jQuery(e.gateway.button.wrapper).trigger("ppcp-reload-buttons")),e.handleButtonStatus(!1)}},r)}}}])}();const Et=Ct;function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function Tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xt(n.key),n)}}function xt(e){var t=function(e){if("object"!=At(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==At(t)?t:t+""}var Bt=function(){return function(e,t){return t&&Tt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gateway=t,this.renderer=r,this.errorHandler=n,this.renderer.onButtonsInit(this.gateway.button.wrapper,function(){o.handleButtonStatus()},!0)},[{key:"init",value:function(){var e=this;this.shouldRender()&&(this.render(),this.handleButtonStatus()),jQuery(document.body).on("updated_cart_totals updated_checkout",function(){e.shouldRender()&&(e.render(),e.handleButtonStatus()),fetch(e.gateway.ajax.cart_script_params.endpoint,{method:"GET",credentials:"same-origin"}).then(function(e){return e.json()}).then(function(t){if(t.success){var r=t.data.url_params;JSON.stringify(e.gateway.url_params)!==JSON.stringify(r)&&(e.gateway.url_params=r,jQuery(e.gateway.button.wrapper).trigger("ppcp-reload-buttons"));var n={};t.data.button&&(n.button=t.data.button),t.data.messages&&(n.messages=t.data.messages),n&&(M.updateScriptData(e,n),e.handleButtonStatus()),jQuery(document.body).trigger("ppcp_cart_total_updated",[t.data.amount])}})})}},{key:"handleButtonStatus",value:function(){M.handleButtonStatus(this)}},{key:"shouldRender",value:function(){return null!==document.querySelector(this.gateway.button.wrapper)}},{key:"shouldEnable",value:function(){return M.shouldEnable(this)}},{key:"render",value:function(){if(this.shouldRender()){var e=new T(PayPalCommerceGateway,this.errorHandler);if(PayPalCommerceGateway.data_client_id.has_subscriptions&&PayPalCommerceGateway.data_client_id.paypal_subscriptions_enabled){var t=PayPalCommerceGateway.subscription_plan_id;return""!==PayPalCommerceGateway.variable_paypal_subscription_variation_from_cart&&(t=PayPalCommerceGateway.variable_paypal_subscription_variation_from_cart),this.renderer.render(e.subscriptionsConfiguration(t)),void(PayPalCommerceGateway.subscription_product_allowed||(this.gateway.button.is_disabled=!0,this.handleButtonStatus()))}this.renderer.render(e.configuration()),jQuery(document.body).trigger("ppcp_cart_rendered")}}}])}();const It=Bt;!function(){var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e},o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof globalThis&&globalThis];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function i(e,t){if(t)e:{var r=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in r))break e;r=r[a]}(t=t(i=r[e=e[e.length-1]]))!=i&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function u(e){var r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return r?r.call(e):{next:t(e)}}if(i("Symbol",function(e){function t(e,t){this.A=e,n(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(r+(n||"")+"_"+o++,n)}}),i("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<r.length;i++){var u=o[r[i]];"function"==typeof u&&"function"!=typeof u.prototype[e]&&n(u.prototype,e,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return e}),"function"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var c;e:{var l={};try{l.__proto__={a:!0},c=l.a;break e}catch(e){}c=!1}r=c?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var s=r;function f(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function d(e,t){return e.h=3,{value:t}}function y(e){this.g=new f,this.G=e}function m(e,t,r,n){try{var o=t.call(e.g.j,r);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return e.g.m=!1,o;var i=o.value}catch(t){return e.g.j=null,e.g.s(t),b(e)}return e.g.j=null,n.call(e.g,i),b(e)}function b(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function h(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){p(e.g);var r=e.g.j;return r?m(e,"return"in r?r.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),b(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function v(e,t){return t=new h(new y(t)),s&&e.prototype&&s(t,e.prototype),t}if(f.prototype.o=function(e){this.v=e},f.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},f.prototype.return=function(e){this.l={return:e},this.h=this.u},y.prototype.o=function(e){return p(this.g),this.g.j?m(this,this.g.j.next,e,this.g.o):(this.g.o(e),b(this))},y.prototype.s=function(e){return p(this.g),this.g.j?m(this,this.g.j.throw,e,this.g.o):(this.g.s(e),b(this))},i("Array.prototype.entries",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var r=0,n=!1,o={next:function(){if(!n&&r<e.length){var o=r++;return{value:t(o,e[o]),done:!1}}return n=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,function(e,t){return[e,t]})}}),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var g=function(e,t){for(var r=0;r<e.length;r++)t(e[r])},w=function(e){return e.replace(/\r?\n|\r/g,"\r\n")},_=function(e,t,r){return t instanceof Blob?(r=void 0!==r?String(r+""):"string"==typeof t.name?t.name:"blob",t.name===r&&"[object Blob]"!==Object.prototype.toString.call(t)||(t=new File([t],r)),[String(e),t]):[String(e),String(t)]},S=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},j="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,P=j.FormData,O=j.XMLHttpRequest&&j.XMLHttpRequest.prototype.send,k=j.Request&&j.fetch,C=j.navigator&&j.navigator.sendBeacon,E=j.Element&&j.Element.prototype,A=j.Symbol&&Symbol.toStringTag;A&&(Blob.prototype[A]||(Blob.prototype[A]="Blob"),"File"in j&&!File.prototype[A]&&(File.prototype[A]="File"));try{new File([],"")}catch(e){j.File=function(e,t,r){return e=new Blob(e,r||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(r&&void 0!==r.lastModified?new Date(r.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),A&&Object.defineProperty(e,A,{value:"File"}),e}}var T=function(e){return e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},x=function(e){this.i=[];var t=this;e&&g(e.elements,function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type&&!e.matches("form fieldset[disabled] *"))if("file"===e.type){var r=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];g(r,function(r){t.append(e.name,r)})}else"select-multiple"===e.type||"select-one"===e.type?g(e.options,function(r){!r.disabled&&r.selected&&t.append(e.name,r.value)}):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(r="textarea"===e.type?w(e.value):e.value,t.append(e.name,r))})};if((e=x.prototype).append=function(e,t,r){S(arguments,2),this.i.push(_(e,t,r))},e.delete=function(e){S(arguments,1);var t=[];e=String(e),g(this.i,function(r){r[0]!==e&&t.push(r)}),this.i=t},e.entries=function e(){var t,r=this;return v(e,function(e){if(1==e.h&&(t=0),3!=e.h)return t<r.i.length?e=d(e,r.i[t]):(e.h=0,e=void 0),e;t++,e.h=2})},e.forEach=function(e,t){S(arguments,1);for(var r=u(this),n=r.next();!n.done;n=r.next()){var o=u(n.value);n=o.next().value,o=o.next().value,e.call(t,o,n,this)}},e.get=function(e){S(arguments,1);var t=this.i;e=String(e);for(var r=0;r<t.length;r++)if(t[r][0]===e)return t[r][1];return null},e.getAll=function(e){S(arguments,1);var t=[];return e=String(e),g(this.i,function(r){r[0]===e&&t.push(r[1])}),t},e.has=function(e){S(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,r,n,o=this;return v(e,function(e){if(1==e.h&&(t=u(o),r=t.next()),3!=e.h)return r.done?void(e.h=0):(n=r.value,d(e,u(n).next().value));r=t.next(),e.h=2})},e.set=function(e,t,r){S(arguments,2),e=String(e);var n=[],o=_(e,t,r),i=!0;g(this.i,function(t){t[0]===e?i&&(i=!n.push(o)):n.push(t)}),i&&n.push(o),this.i=n},e.values=function e(){var t,r,n,o,i=this;return v(e,function(e){if(1==e.h&&(t=u(i),r=t.next()),3!=e.h)return r.done?void(e.h=0):(n=r.value,(o=u(n)).next(),d(e,o.next().value));r=t.next(),e.h=2})},x.prototype._asNative=function(){for(var e=new P,t=u(this),r=t.next();!r.done;r=t.next()){var n=u(r.value);r=n.next().value,n=n.next().value,e.append(r,n)}return e},x.prototype._blob=function(){var e="----formdata-polyfill-"+Math.random(),t=[],r="--"+e+'\r\nContent-Disposition: form-data; name="';return this.forEach(function(e,n){return"string"==typeof e?t.push(r+T(w(n))+'"\r\n\r\n'+w(e)+"\r\n"):t.push(r+T(w(n))+'"; filename="'+T(e.name)+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+"\r\n\r\n",e,"\r\n")}),t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},x.prototype[Symbol.iterator]=function(){return this.entries()},x.prototype.toString=function(){return"[object FormData]"},E&&!E.matches&&(E.matches=E.matchesSelector||E.mozMatchesSelector||E.msMatchesSelector||E.oMatchesSelector||E.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),A&&(x.prototype[A]="FormData"),O){var B=j.XMLHttpRequest.prototype.setRequestHeader;j.XMLHttpRequest.prototype.setRequestHeader=function(e,t){B.call(this,e,t),"content-type"===e.toLowerCase()&&(this.B=!0)},j.XMLHttpRequest.prototype.send=function(e){e instanceof x?(e=e._blob(),this.B||this.setRequestHeader("Content-Type",e.type),O.call(this,e)):O.call(this,e)}}k&&(j.fetch=function(e,t){return t&&t.body&&t.body instanceof x&&(t.body=t.body._blob()),k.call(this,e,t)}),C&&(j.navigator.sendBeacon=function(e,t){return t instanceof x&&(t=t._asNative()),C.call(this,e,t)}),j.FormData=x}}();function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function Ft(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return qt(l,"_invoke",function(r,n,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,u=0,c=e,p.n=r,a}};function d(r,n){for(u=r,c=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,y=i[2];r>3?(o=y===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,u=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),u=s,c=y;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=p.n<0)?c:r.call(n,p))!==a)break}catch(t){i=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(qt(t={},n,function(){return this}),t),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,qt(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,qt(f,"constructor",l),qt(l,"constructor",c),c.displayName="GeneratorFunction",qt(l,o,"GeneratorFunction"),qt(f),qt(f,o,"Generator"),qt(f,n,function(){return this}),qt(f,"toString",function(){return"[object Generator]"}),(Ft=function(){return{w:i,m:p}})()}function qt(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}qt=function(e,t,r,n){function i(t,r){qt(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},qt(e,t,r,n)}function Dt(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function Mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ht(n.key),n)}}function Ht(e){var t=function(e){if("object"!=Gt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gt(t)?t:t+""}var Rt=function(){return function(e,t){return t&&Mt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.nonce=r},[{key:"validate",value:(e=Ft().m(function e(t){var r,n,o;return Ft().w(function(e){for(;;)switch(e.n){case 0:return r=new FormData(t),e.n=1,fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:this.nonce,form_encoded:new URLSearchParams(r).toString()})});case 1:return n=e.v,e.n=2,n.json();case 2:if((o=e.v).success){e.n=4;break}if(o.data.refresh&&jQuery(document.body).trigger("update_checkout"),!o.data.errors){e.n=3;break}return e.a(2,o.data.errors);case 3:throw Error(o.data.message);case 4:return e.a(2,[])}},e,this)}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Dt(i,n,o,a,u,"next",e)}function u(e){Dt(i,n,o,a,u,"throw",e)}a(void 0)})},function(_x){return t.apply(this,arguments)})}]);var e,t}();function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function Nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lt(n.key),n)}}function Lt(e){var t=function(e){if("object"!=Qt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qt(t)?t:t+""}var Ut=function(){return function(e,t){return t&&Nt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.genericErrorText=t,this.wrapper=r},[{key:"genericError",value:function(){this.clear(),this.message(this.genericErrorText)}},{key:"appendPreparedErrorMessageElement",value:function(e){this._getMessageContainer().replaceWith(e)}},{key:"message",value:function(e){this._addMessage(e),this._scrollToMessages()}},{key:"messages",value:function(e){var t=this;e.forEach(function(e){return t._addMessage(e)}),this._scrollToMessages()}},{key:"currentHtml",value:function(){return this._getMessageContainer().outerHTML}},{key:"_addMessage",value:function(e){if("undefined"!=typeof String&&!Qt(String)||0===e.length)throw new Error("A new message text must be a non-empty string.");var t=this._getMessageContainer(),r=this._prepareMessageElement(e);t.appendChild(r)}},{key:"_scrollToMessages",value:function(){jQuery.scroll_to_notices(jQuery(".woocommerce-error"))}},{key:"_getMessageContainer",value:function(){var e=document.querySelector("ul.woocommerce-error");return null===e&&((e=document.createElement("ul")).setAttribute("class","woocommerce-error"),e.setAttribute("role","alert"),jQuery(this.wrapper).prepend(e)),e}},{key:"_prepareMessageElement",value:function(e){var t=document.createElement("li");return t.innerHTML=e,t}},{key:"clear",value:function(){jQuery(".woocommerce-error, .woocommerce-message").remove()}}])}();const Vt=Ut;function Jt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return Wt(l,"_invoke",function(r,n,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,u=0,c=e,p.n=r,a}};function d(r,n){for(u=r,c=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,y=i[2];r>3?(o=y===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,u=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),u=s,c=y;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=p.n<0)?c:r.call(n,p))!==a)break}catch(t){i=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(Wt(t={},n,function(){return this}),t),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Wt(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,Wt(f,"constructor",l),Wt(l,"constructor",c),c.displayName="GeneratorFunction",Wt(l,o,"GeneratorFunction"),Wt(f),Wt(f,o,"Generator"),Wt(f,n,function(){return this}),Wt(f,"toString",function(){return"[object Generator]"}),(Jt=function(){return{w:i,m:p}})()}function Wt(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Wt=function(e,t,r,n){function i(t,r){Wt(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Wt(e,t,r,n)}function zt(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}const $t=function(e){return new Promise(function(){var t,r=(t=Jt().m(function t(r,n){var o,i,a,c,l;return Jt().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,o=new u,i=new Vt(e.labels.error.generic,document.querySelector(".woocommerce-notices-wrapper")),a="checkout"===e.context?"form.checkout":"form#order_review",c=e.early_checkout_validation_enabled?new Rt(e.ajax.validate_checkout.endpoint,e.ajax.validate_checkout.nonce):null){t.n=1;break}return r(),t.a(2);case 1:c.validate(document.querySelector(a)).then(function(e){e.length>0?(o.unblock(),i.clear(),i.messages(e),jQuery(document.body).trigger("checkout_error",[i.currentHtml()]),n()):r()}),t.n=3;break;case 2:t.p=2,l=t.v,console.error(l),n();case 3:return t.a(2)}},t,null,[[0,2]])}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){zt(i,n,o,a,u,"next",e)}function u(e){zt(i,n,o,a,u,"throw",e)}a(void 0)})});return function(_x,e){return r.apply(this,arguments)}}())};function Yt(e){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(e)}function Kt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return Xt(l,"_invoke",function(r,n,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,u=0,c=e,p.n=r,a}};function d(r,n){for(u=r,c=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,y=i[2];r>3?(o=y===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,u=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),u=s,c=y;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=p.n<0)?c:r.call(n,p))!==a)break}catch(t){i=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(Xt(t={},n,function(){return this}),t),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Xt(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,Xt(f,"constructor",l),Xt(l,"constructor",c),c.displayName="GeneratorFunction",Xt(l,o,"GeneratorFunction"),Xt(f),Xt(f,o,"Generator"),Xt(f,n,function(){return this}),Xt(f,"toString",function(){return"[object Generator]"}),(Kt=function(){return{w:i,m:p}})()}function Xt(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Xt=function(e,t,r,n){function i(t,r){Xt(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Xt(e,t,r,n)}function Zt(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tr(n.key),n)}}function tr(e){var t=function(e){if("object"!=Yt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yt(t)?t:t+""}var rr=function(){return function(e,t){return t&&er(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.errorHandler=r,this.spinner=n},[{key:"subscriptionsConfiguration",value:function(e){var t,r,n=this;return{createSubscription:(t=Kt().m(function t(r,o){return Kt().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,$t(n.config);case 1:t.n=3;break;case 2:throw t.p=2,t.v,{type:"form-validation-error"};case 3:return t.a(2,o.subscription.create({plan_id:e}))}},t,null,[[0,2]])}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){Zt(i,n,o,a,u,"next",e)}function u(e){Zt(i,n,o,a,u,"throw",e)}a(void 0)})},function(_x,e){return r.apply(this,arguments)}),onApprove:function(e,t){fetch(n.config.ajax.approve_subscription.endpoint,{method:"POST",credentials:"same-origin",body:JSON.stringify({nonce:n.config.ajax.approve_subscription.nonce,order_id:e.orderID,subscription_id:e.subscriptionID})}).then(function(e){return e.json()}).then(function(e){document.querySelector("#place_order").click()})},onError:function(e){console.error(e)}}}},{key:"configuration",value:function(){var e,t,r=this,n=this.spinner;return{createOrder:function(e,t){var o,i=y(),a=void 0!==r.config.bn_codes[r.config.context]?r.config.bn_codes[r.config.context]:"",u=r.errorHandler,c="checkout"===r.config.context?"form.checkout":"form#order_review",l=new FormData(document.querySelector(c)),s=!!jQuery("#createaccount").is(":checked"),f=h(),p=window.ppcpFundingSource,d=!(null===(o=document.getElementById("wc-ppcp-credit-card-gateway-new-payment-method"))||void 0===o||!o.checked);return fetch(r.config.ajax.create_order.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:r.config.ajax.create_order.nonce,payer:i,bn_code:a,context:r.config.context,order_id:r.config.order_id,order_key:r.config.order_key,payment_method:f,funding_source:p,form_encoded:new URLSearchParams(l).toString(),createaccount:s,save_payment_method:d})}).then(function(e){return e.json()}).then(function(e){if(!e.success){if(n.unblock(),void 0!==e.messages){var t=new DOMParser;u.appendPreparedErrorMessageElement(t.parseFromString(e.messages,"text/html").querySelector("ul"))}else{var r,o;u.clear(),e.data.refresh&&jQuery(document.body).trigger("update_checkout"),(null===(r=e.data.errors)||void 0===r?void 0:r.length)>0?u.messages(e.data.errors):(null===(o=e.data.details)||void 0===o?void 0:o.length)>0?u.message(e.data.details.map(function(e){return"".concat(e.issue," ").concat(e.description)}).join("<br/>")):u.message(e.data.message),jQuery(document.body).trigger("checkout_error",[u.currentHtml()])}throw{type:"create-order-error",data:e.data}}var i=document.createElement("input");return i.setAttribute("type","hidden"),i.setAttribute("name","ppcp-resume-order"),i.setAttribute("value",e.data.custom_id),document.querySelector(c).appendChild(i),e.data.id})},onApprove:(e=this,t=this.errorHandler,function(r,n){var o=u.fullPage();return o.block(),t.clear(),O.isResumeFlow()&&O.cleanHashParams(),fetch(e.config.ajax.approve_order.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:e.config.ajax.approve_order.nonce,order_id:r.orderID,funding_source:window.ppcpFundingSource})}).then(function(e){return e.json()}).then(function(e){if(!e.success){if(100===e.data.code?t.message(e.data.message):t.genericError(),void 0!==n&&void 0!==n.restart)return n.restart();throw new Error(e.data.message)}h().startsWith("ppcp-")||jQuery('input[name="payment_method"][value="'.concat(m.PAYPAL,'"]')).prop("checked",!0),document.querySelector("#place_order").click()}).finally(function(){o.unblock()})}),onCancel:function(){n.unblock(),O.reloadButtonsIfRequired(r.config.button.wrapper)},onError:function(e){console.error(e),n.unblock(),e&&"create-order-error"===e.type||(r.errorHandler.genericError(),O.reloadButtonsIfRequired(r.config.button.wrapper))}}}}])}();const nr=rr;function or(e){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(e)}function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach(function(t){ur(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ur(e,t,r){return(t=function(e){var t=function(e){if("object"!=or(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==or(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cr(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return lr(l,"_invoke",function(r,n,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,u=0,c=e,p.n=r,a}};function d(r,n){for(u=r,c=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,y=i[2];r>3?(o=y===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,u=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),u=s,c=y;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=p.n<0)?c:r.call(n,p))!==a)break}catch(t){i=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(lr(t={},n,function(){return this}),t),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,lr(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,lr(f,"constructor",l),lr(l,"constructor",c),c.displayName="GeneratorFunction",lr(l,o,"GeneratorFunction"),lr(f),lr(f,o,"Generator"),lr(f,n,function(){return this}),lr(f,"toString",function(){return"[object Generator]"}),(cr=function(){return{w:i,m:p}})()}function lr(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}lr=function(e,t,r,n){function i(t,r){lr(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},lr(e,t,r,n)}function sr(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function fr(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){sr(i,n,o,a,u,"next",e)}function u(e){sr(i,n,o,a,u,"throw",e)}a(void 0)})}}function pr(_x,e){return dr.apply(this,arguments)}function dr(){return dr=fr(cr().m(function e(t,r){var n,o,i,a=arguments;return cr().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},e.p=1,e.n=2,fetch(t,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(ar({nonce:r},n))});case 2:if((o=e.v).ok){e.n=3;break}throw new Error("HTTP error status: ".concat(o.status));case 3:return e.n=4,o.json();case 4:return e.a(2,e.v);case 5:throw e.p=5,i=e.v,console.error("API request failed:",i),i;case 6:return e.a(2)}},e,null,[[1,5]])})),dr.apply(this,arguments)}function yr(e,t,r){return mr.apply(this,arguments)}function mr(){return(mr=fr(cr().m(function e(t,r,n){var o,i;return cr().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r&&n){e.n=1;break}return e.a(2,!1);case 1:return e.p=1,e.n=2,pr(t.ajax.subscription_change_payment_method.endpoint,t.ajax.subscription_change_payment_method.nonce,{subscription_id:r,payment_method:h(),wc_payment_token_id:n});case 2:if(!0!==e.v.success){e.n=3;break}return o="".concat(t.view_subscriptions_page,"/").concat(r),window.location.href=o,e.a(2,!0);case 3:return e.a(2,!1);case 4:return e.p=4,i=e.v,console.error("Subscription payment change failed:",i),e.a(2,!1)}},e,null,[[1,4]])}))).apply(this,arguments)}function br(e){e&&"string"==typeof e&&(window.location.href=e)}function hr(){var e=document.querySelector("#place_order");e?e.click():console.error("Place order button (#place_order) not found in DOM")}function vr(e,t){return gr.apply(this,arguments)}function gr(){return gr=fr(cr().m(function e(t,r){var n,o,i,a,u,c,l,s,f,p=arguments;return cr().w(function(e){for(;;)switch(e.p=e.n){case 0:return o=(n=p.length>2&&void 0!==p[2]?p[2]:{}).paymentMethod,i=void 0===o?null:o,a=n.verificationMethod,u=void 0===a?null:a,e.p=1,l={},i&&(l.payment_method=i),u&&(l.verification_method=u),e.n=2,pr(t.ajax.create_setup_token.endpoint,t.ajax.create_setup_token.nonce,l);case 2:if(s=e.v,null===(c=s.data)||void 0===c||!c.id){e.n=3;break}return e.a(2,s.data.id);case 3:throw new Error("Setup token ID not found in response");case 4:return e.p=4,f=e.v,console.error("Create vault setup token failed:",f),null==r||r.message(t.error_message),e.a(2,void 0);case 5:return e.a(2)}},e,null,[[1,4]])})),gr.apply(this,arguments)}function wr(e,t,r){return _r.apply(this,arguments)}function _r(){return _r=fr(cr().m(function e(t,r,n){var o,i,a,u,c,l,s,f,p,d,y,m=arguments;return cr().w(function(e){for(;;)switch(e.p=e.n){case 0:return i=(o=m.length>3&&void 0!==m[3]?m[3]:{}).paymentMethod,a=void 0===i?null:i,u=o.context,c=void 0===u?null:u,l=o.isFreeTrialCart,s=void 0!==l&&l,e.p=1,f={vault_setup_token:n},a&&(f.payment_method=a),s&&(f.is_free_trial_cart=!0),e.n=2,pr(t.ajax.create_payment_token.endpoint,t.ajax.create_payment_token.nonce,f);case 2:if(!0===(p=e.v).success){e.n=3;break}throw new Error("Payment token creation failed");case 3:if("checkout"!==c){e.n=4;break}return hr(),e.a(2);case 4:if(!t.is_subscription_change_payment_page){e.n=7;break}if(!(d=t.subscription_id_to_change_payment)||!p.data){e.n=6;break}return e.n=5,yr(t,d,p.data);case 5:if(!e.v){e.n=6;break}return e.a(2);case 6:return e.a(2);case 7:br(t.payment_methods_page),e.n=9;break;case 8:e.p=8,y=e.v,console.error("Approval handling failed:",y),null==r||r.message(t.error_message);case 9:return e.a(2)}},e,null,[[1,8]])})),_r.apply(this,arguments)}function Sr(e,t){return jr.apply(this,arguments)}function jr(){return(jr=fr(cr().m(function e(t,r){var n;return cr().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,pr(t.ajax.create_payment_token_for_guest.endpoint,t.ajax.create_payment_token_for_guest.nonce,{vault_setup_token:r});case 1:if(!0!==e.v.success){e.n=2;break}return hr(),e.a(2);case 2:throw new Error("Guest payment token creation failed");case 3:e.p=3,n=e.v,console.error("Guest approval failed:",n);case 4:return e.a(2)}},e,null,[[0,3]])}))).apply(this,arguments)}function Pr(e){return{createVaultSetupToken:(r=fr(cr().m(function t(){var r,n,o;return cr().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,pr(e.ajax.create_setup_token.endpoint,e.ajax.create_setup_token.nonce,{payment_method:h()});case 1:if(n=t.v,null===(r=n.data)||void 0===r||!r.id){t.n=2;break}return t.a(2,n.data.id);case 2:throw new Error("Setup token ID not found in response");case 3:return t.p=3,o=t.v,console.error("Create setup token failed:",o),t.a(2,void 0);case 4:return t.a(2)}},t,null,[[0,3]])})),function(){return r.apply(this,arguments)}),onApprove:(t=fr(cr().m(function t(r){var n;return cr().w(function(t){for(;;)switch(t.n){case 0:return n=r.vaultSetupToken,t.n=1,Sr(e,n);case 1:return t.a(2,t.v)}},t)})),function(e){return t.apply(this,arguments)}),onError:function(e){console.error(e)}};var t,r}var Or=Object.freeze({INVALIDATE:"ppcp_invalidate_methods",RENDER:"ppcp_render_method",REDRAW:"ppcp_redraw_method"});function kr(e){var t=e.event,r=e.paymentMethod,n=void 0===r?"":r;if(!function(e){return Object.values(Or).includes(e)}(t))throw new Error("Invalid event: ".concat(t));var o=n?"".concat(t,"-").concat(n):t;document.body.dispatchEvent(new Event(o))}function Cr(e){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(e)}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ar(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ar(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(r),!0).forEach(function(t){Br(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Br(e,t,r){return(t=Gr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ir(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gr(n.key),n)}}function Gr(e){var t=function(e){if("object"!=Cr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Cr(t)?t:t+""}var Fr=function(){return function(e,t){return t&&Ir(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gateway=t,this.renderer=r,this.spinner=n,this.errorHandler=o,this.standardOrderButtonSelector=b,this.renderer.onButtonsInit(this.gateway.button.wrapper,function(){i.handleButtonStatus()},!0)},[{key:"init",value:function(){var e=this;this.render(),this.handleButtonStatus(),jQuery("#saved-credit-card").val(jQuery("#saved-credit-card option:first").val()),jQuery(document.body).on("updated_checkout",function(){e.render(),e.handleButtonStatus(),e.shouldShowMessages()&&document.querySelector(e.gateway.messages.wrapper)&&fetch(e.gateway.ajax.cart_script_params.endpoint,{method:"GET",credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){e.success&&jQuery(document.body).trigger("ppcp_checkout_total_updated",[e.data.amount])})}),jQuery(document.body).on("updated_checkout payment_method_selected",function(){e.invalidatePaymentMethods(),e.updateUi()}),jQuery(document).on("hosted_fields_loaded",function(){jQuery("#saved-credit-card").on("change",function(){e.updateUi()})}),jQuery(document).on("ppcp_should_show_messages",function(t,r){e.shouldShowMessages()||(r.result=!1)}),this.updateUi()}},{key:"handleButtonStatus",value:function(){M.handleButtonStatus(this)}},{key:"shouldRender",value:function(){return!document.querySelector(this.gateway.button.cancel_wrapper)&&(null!==document.querySelector(this.gateway.button.wrapper)||null!==document.querySelector(this.gateway.hosted_fields.wrapper))}},{key:"shouldEnable",value:function(){return M.shouldEnable(this)}},{key:"render",value:function(){if(this.shouldRender()){document.querySelector(this.gateway.hosted_fields.wrapper+">div")&&document.querySelector(this.gateway.hosted_fields.wrapper+">div").setAttribute("style","");var e=new nr(PayPalCommerceGateway,this.errorHandler,this.spinner);if(PayPalCommerceGateway.data_client_id.has_subscriptions&&PayPalCommerceGateway.data_client_id.paypal_subscriptions_enabled){var t=PayPalCommerceGateway.subscription_plan_id;return""!==PayPalCommerceGateway.variable_paypal_subscription_variation_from_cart&&(t=PayPalCommerceGateway.variable_paypal_subscription_variation_from_cart),this.renderer.render(e.subscriptionsConfiguration(t),{},e.configuration()),void(PayPalCommerceGateway.subscription_product_allowed||(this.gateway.button.is_disabled=!0,this.handleButtonStatus()))}PayPalCommerceGateway.is_free_trial_cart&&PayPalCommerceGateway.vault_v3_enabled?this.renderer.render(Pr(PayPalCommerceGateway),{},e.configuration()):this.renderer.render(e.configuration(),{},e.configuration())}}},{key:"invalidatePaymentMethods",value:function(){kr({event:Or.INVALIDATE})}},{key:"updateUi",value:function(){var e,t,r=h(),n=r===m.PAYPAL,o=r===m.CARDS,i=[m.CARD_BUTTON].includes(r),a=r===m.GOOGLEPAY,u=r===m.APPLEPAY,c=o&&(t=document.querySelector("#saved-credit-card"))&&""!==t.value,l=!(n||o||i||a||u),s=PayPalCommerceGateway.is_free_trial_cart,f=!!PayPalCommerceGateway.vaulted_paypal_email,p=null===(e=this.renderer.useSmartButtons)||void 0===e||e,d=xr({},Object.entries(PayPalCommerceGateway.separate_buttons).reduce(function(e,t){var r=Er(t,2),n=(r[0],r[1]);return xr(xr({},e),{},Br({},n.id,n.wrapper))},{}));Le(this.standardOrderButtonSelector,n&&s&&f||l||c||n&&!p,"ppcp-hidden"),Ne(".ppcp-vaulted-paypal-details",n),Ne(this.gateway.button.wrapper,n&&!(s&&f)),Ne(this.gateway.hosted_fields.wrapper,o&&!c);for(var y=0,b=Object.entries(d);y<b.length;y++){var v=Er(b[y],2),g=v[0],w=v[1];Ne(w,g===r)}o&&(c?this.disableCreditCardFields():this.enableCreditCardFields()),kr({event:Or.RENDER,paymentMethod:r}),Ne("#ppc-button-ppcp-applepay",u),document.body.dispatchEvent(new Event("ppcp_checkout_rendered"))}},{key:"shouldShowMessages",value:function(){var e=document.querySelector(this.gateway.messages.wrapper);return!(h()!==m.PAYPAL&&e&&jQuery(e).closest(".ppc-button-wrapper").length||PayPalCommerceGateway.is_free_trial_cart)}},{key:"disableCreditCardFields",value:function(){jQuery('label[for="ppcp-credit-card-gateway-card-number"]').addClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery("#ppcp-credit-card-gateway-card-number").addClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery('label[for="ppcp-credit-card-gateway-card-expiry"]').addClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery("#ppcp-credit-card-gateway-card-expiry").addClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery('label[for="ppcp-credit-card-gateway-card-cvc"]').addClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery("#ppcp-credit-card-gateway-card-cvc").addClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery('label[for="vault"]').addClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery("#ppcp-credit-card-vault").addClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery("#ppcp-credit-card-vault").attr("disabled",!0),this.renderer.disableCreditCardFields()}},{key:"enableCreditCardFields",value:function(){jQuery('label[for="ppcp-credit-card-gateway-card-number"]').removeClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery("#ppcp-credit-card-gateway-card-number").removeClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery('label[for="ppcp-credit-card-gateway-card-expiry"]').removeClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery("#ppcp-credit-card-gateway-card-expiry").removeClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery('label[for="ppcp-credit-card-gateway-card-cvc"]').removeClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery("#ppcp-credit-card-gateway-card-cvc").removeClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery('label[for="vault"]').removeClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery("#ppcp-credit-card-vault").removeClass("ppcp-credit-card-gateway-form-field-disabled"),jQuery("#ppcp-credit-card-vault").attr("disabled",!1),this.renderer.enableCreditCardFields()}}])}();const qr=Fr;function Dr(e){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function Mr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hr(n.key),n)}}function Hr(e){var t=function(e){if("object"!=Dr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dr(t)?t:t+""}function Rr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Rr=function(){return!!e})()}function Qr(){return Qr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Nr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Qr.apply(null,arguments)}function Nr(e){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nr(e)}function Lr(e,t){return Lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lr(e,t)}var Ur=function(e){function t(e,r,n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=Nr(t),function(e,t){if(t&&("object"==Dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Rr()?Reflect.construct(t,r||[],Nr(e).constructor):t.apply(e,r))}(this,t,[e,r,n,o])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lr(e,t)}(t,e),function(e,t){return t&&Mr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"updateUi",value:function(){mt()||function(e,t,r){var n=Qr(Nr(e.prototype),"updateUi",r);return"function"==typeof n?function(e){return n.apply(r,e)}:n}(t,0,this)([])}}])}(qr);const Vr=Ur;function Jr(e){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(e)}function Wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zr(e,t,r){return(t=function(e){var t=function(e){if("object"!=Jr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $r=function(e,t){var r={};switch(["shape","height"].forEach(function(t){e[t]&&(r[t]=e[t])}),t){case"paypal":return e;case"paylater":return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach(function(t){zr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({color:e.color},r);default:return r}};function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function Kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(r),!0).forEach(function(t){Zr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Zr(e,t,r){return(t=function(e){var t=function(e){if("object"!=Yr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tn=function(e){var t={country_code:"country",address_line_1:"address_1",address_line_2:"address_2",admin_area_1:"state",admin_area_2:"city",postal_code:"postcode"};null!=e&&e.city&&(t={country_code:"country",state:"state",city:"city",postal_code:"postcode"});var r={};return Object.entries(t).forEach(function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?en(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),o=n[0],i=n[1];null!=e&&e[o]&&(r[i]=e[o])}),Xr(Xr({},{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""}),r)},rn=function(e){var t={};return Object.keys(e).forEach(function(r){var n=r.replace(/[\w]([A-Z])/g,function(e){return e[0]+"_"+e[1]}).toLowerCase();t[n]=e[r]}),t};function nn(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return on(l,"_invoke",function(r,n,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,u=0,c=e,p.n=r,a}};function d(r,n){for(u=r,c=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,y=i[2];r>3?(o=y===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,u=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),u=s,c=y;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=p.n<0)?c:r.call(n,p))!==a)break}catch(t){i=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(on(t={},n,function(){return this}),t),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,on(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,on(f,"constructor",l),on(l,"constructor",c),c.displayName="GeneratorFunction",on(l,o,"GeneratorFunction"),on(f),on(f,o,"Generator"),on(f,n,function(){return this}),on(f,"toString",function(){return"[object Generator]"}),(nn=function(){return{w:i,m:p}})()}function on(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}on=function(e,t,r,n){function i(t,r){on(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},on(e,t,r,n)}function an(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function un(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){an(i,n,o,a,u,"next",e)}function u(e){an(i,n,o,a,u,"throw",e)}a(void 0)})}}var cn=function(){var e=un(nn().m(function e(t,r,n){var o,i,a,u,c;return nn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!(i=null===(o=t.selectedShippingOption)||void 0===o?void 0:o.id)){e.n=1;break}return e.n=1,fetch(n.ajax.update_customer_shipping.shipping_options.endpoint,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json",Nonce:n.ajax.update_customer_shipping.wp_rest_nonce},body:JSON.stringify({rate_id:i})}).then(function(e){return e.json()}).then(function(e){document.querySelectorAll(".shipping_method").forEach(function(e){e.value===i&&(e.checked=!0)})});case 1:if(n.data_client_id.has_subscriptions){e.n=4;break}return e.n=2,fetch(n.ajax.update_shipping.endpoint,{method:"POST",credentials:"same-origin",body:JSON.stringify({nonce:n.ajax.update_shipping.nonce,order_id:t.orderID})});case 2:return a=e.v,e.n=3,a.json();case 3:if((u=e.v).success){e.n=4;break}throw new Error(u.data.message);case 4:e.n=6;break;case 5:e.p=5,c=e.v,console.error(c),r.reject();case 6:return e.a(2)}},e,null,[[0,5]])}));return function(_x,t,r){return e.apply(this,arguments)}}(),ln=function(){var e=un(nn().m(function e(t,r,n){var o,i,a,u;return nn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,o=tn(rn(t.shippingAddress)),e.n=1,fetch(n.ajax.update_customer_shipping.shipping_address.cart_endpoint).then(function(e){return e.json()}).then(function(e){return e.shipping_address.address_1=o.address_1,e.shipping_address.address_2=o.address_2,e.shipping_address.city=o.city,e.shipping_address.state=o.state,e.shipping_address.postcode=o.postcode,e.shipping_address.country=o.country,fetch(n.ajax.update_customer_shipping.shipping_address.update_customer_endpoint,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json",Nonce:n.ajax.update_customer_shipping.wp_rest_nonce},body:JSON.stringify({shipping_address:e.shipping_address})}).then(function(e){return e.json()}).then(function(e){jQuery(".cart_totals .shop_table").load(location.href+" .cart_totals .shop_table>*","")})});case 1:return e.n=2,fetch(n.ajax.update_shipping.endpoint,{method:"POST",credentials:"same-origin",body:JSON.stringify({nonce:n.ajax.update_shipping.nonce,order_id:t.orderID})});case 2:return i=e.v,e.n=3,i.json();case 3:if((a=e.v).success){e.n=4;break}throw new Error(a.data.message);case 4:e.n=6;break;case 5:e.p=5,u=e.v,console.error(u),r.reject();case 6:return e.a(2)}},e,null,[[0,5]])}));return function(t,r,n){return e.apply(this,arguments)}}();function sn(e){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(e)}function fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(r),!0).forEach(function(t){vn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=mn(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var _n=0,n=function(){};return{s:n,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||mn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){if(e){if("string"==typeof e)return bn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bn(e,t):void 0}}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function hn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gn(n.key),n)}}function vn(e,t,r){return(t=gn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gn(e){var t=function(e){if("object"!=sn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=sn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sn(t)?t:t+""}var wn=function(){return function(e,t){return t&&hn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vn(this,"isVenmoButtonClickedWhenVaultingIsEnabled",function(e){return e&&i.defaultSettings.vaultingEnabled}),vn(this,"shouldEnableShippingCallback",function(){var e=i.defaultSettings.needShipping||"product"===i.defaultSettings.context;return i.defaultSettings.should_handle_shipping_in_paypal&&e}),vn(this,"shouldEnableAppSwitch",function(){return i.defaultSettings.appswitch.enabled&&!i.defaultSettings.final_review_enabled&&i.defaultSettings.server_side_shipping_callback.enabled}),this.defaultSettings=r,this.creditCardRenderer=t,this.onSmartButtonClick=n,this.onSmartButtonsInit=o,this.buttonsOptions={},this.onButtonsInitListeners={},this.renderedSources=new Set,this.reloadEventName="ppcp-reload-buttons"},[{key:"useSmartButtons",get:function(){var e,t;return"preview"===(null===(e=this.defaultSettings)||void 0===e?void 0:e.context)||((null===(t=this.defaultSettings)||void 0===t||null===(t=t.url_params)||void 0===t?void 0:t.components)||"").split(",").includes("buttons")}},{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=G()(this.defaultSettings,t),o=Object.fromEntries(Object.entries(n.separate_buttons).filter(function(e){var t=yn(e,2)[1];return document.querySelector(t.wrapper)}));if(0!==Object.keys(o).length){var i,a=dn(paypal.getFundingSources().filter(function(e){return!(e in o)}));try{for(a.s();!(i=a.n()).done;){var u=i.value,c=$r(n.button.style,u);this.renderButtons(n.button.wrapper,c,e,u)}}catch(e){a.e(e)}finally{a.f()}}else this.useSmartButtons&&this.renderButtons(n.button.wrapper,n.button.style,e);this.creditCardRenderer&&this.creditCardRenderer.render(n.hosted_fields.wrapper,r);for(var l=0,s=Object.entries(o);l<s.length;l++){var f=yn(s[l],2),p=f[0],d=f[1];this.renderButtons(d.wrapper,d.style,e,p)}}},{key:"renderButtons",value:function(e,t,r){var n,o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(document.querySelector(e)&&!this.isAlreadyRendered(e,i)){i&&(r.fundingSource=i);var a=!1,u=function(){var n=pn(pn({style:t},r),{},{onClick:function(e,t){var r;return o.onSmartButtonClick&&(r=o.onSmartButtonClick(e,t)),a="venmo"===e.fundingSource,r},onInit:function(t,r){o.onSmartButtonsInit&&o.onSmartButtonsInit(t,r),o.handleOnButtonsInit(e,t,r)}});return o.shouldEnableShippingCallback()&&!o.defaultSettings.server_side_shipping_callback.enabled&&(n.onShippingOptionsChange=function(e,t){return o.isVenmoButtonClickedWhenVaultingIsEnabled(a)?null:cn(e,t,o.defaultSettings)},n.onShippingAddressChange=function(e,t){return o.isVenmoButtonClickedWhenVaultingIsEnabled(a)?null:ln(e,t,o.defaultSettings)}),o.shouldEnableAppSwitch()&&(n.appSwitchWhenAvailable=!0),n};jQuery(document).off(this.reloadEventName,e).on(this.reloadEventName,e,function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!i||!n||n===i){var a=G()(o.defaultSettings,r),c=ut(a.url_params);We(c=G()(c,a.script_attributes)).then(function(t){it.setPaypal(t),it.registerButtons([e,i],u()),it.renderAll()})}}),this.renderedSources.add(e+(i||"")),null!==(n=window.paypal)&&void 0!==n&&n.Buttons&&(it.registerButtons([e,i],u()),it.renderButtons([e,i]))}else it.renderButtons([e,i])}},{key:"isAlreadyRendered",value:function(e,t){return this.renderedSources.has(e+(null!=t?t:""))}},{key:"disableCreditCardFields",value:function(){this.creditCardRenderer.disableFields()}},{key:"enableCreditCardFields",value:function(){this.creditCardRenderer.enableFields()}},{key:"onButtonsInit",value:function(e,t,r){this.onButtonsInitListeners[e]=r?[]:this.onButtonsInitListeners[e]||[],this.onButtonsInitListeners[e].push(t)}},{key:"handleOnButtonsInit",value:function(e,t,r){if(this.buttonsOptions[e]={data:t,actions:r},this.onButtonsInitListeners[e]){var n,o=dn(this.onButtonsInitListeners[e]);try{for(o.s();!(n=o.n()).done;){var i=n.value;"function"==typeof i&&i(pn({wrapper:e},this.buttonsOptions[e]))}}catch(e){o.e(e)}finally{o.f()}}}},{key:"disableSmartButtons",value:function(e){if(this.buttonsOptions[e])try{this.buttonsOptions[e].actions.disable()}catch(e){console.warn("Failed to disable buttons: "+e)}}},{key:"enableSmartButtons",value:function(e){if(this.buttonsOptions[e])try{this.buttonsOptions[e].actions.enable()}catch(e){console.warn("Failed to enable buttons: "+e)}}}])}();const Sn=wn,jn=function(e){var t=window.getComputedStyle(e),r=document.createElement("span");return r.setAttribute("id",e.id),r.setAttribute("class",e.className),Object.values(t).forEach(function(e){t[e]&&isNaN(e)&&"background-image"!==e&&r.style.setProperty(e,""+t[e])}),r};function Pn(e){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(e)}function On(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kn(n.key),n)}}function kn(e){var t=function(e){if("object"!=Pn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pn(t)?t:t+""}var Cn=function(){return function(e,t){return t&&On(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultConfig=t,this.errorHandler=r,this.spinner=n,this.cardValid=!1,this.formValid=!1,this.emptyFields=new Set(["number","cvv","expirationDate"]),this.currentHostedFieldsInstance=null},[{key:"render",value:function(e,t){var r=this;if(("checkout"===this.defaultConfig.context||"pay-now"===this.defaultConfig.context)&&null!==e&&null!==document.querySelector(e)){if(void 0!==paypal.HostedFields&&paypal.HostedFields.isEligible()){var n=e+" button";this.currentHostedFieldsInstance&&(this.currentHostedFieldsInstance.teardown().catch(function(e){return console.error("Hosted fields teardown error: ".concat(e))}),this.currentHostedFieldsInstance=null);var o=document.querySelector(".payment_box.payment_method_ppcp-credit-card-gateway");if(!o)return;var i=o.style.display;o.style.display="block";var a=document.querySelector("#ppcp-hide-dcc");a&&a.parentNode.removeChild(a);var u=document.querySelector(".wc_payment_method.payment_method_ppcp-credit-card-gateway");"none"!==u.style.display&&""!==u.style.display||(u.style.display="block");var c=document.querySelector("#ppcp-credit-card-gateway-card-number"),l=window.getComputedStyle(c),s={};Object.values(l).forEach(function(e){l[e]&&(s[e]=""+l[e])});var f=jn(c);c.parentNode.replaceChild(f,c);var p=document.querySelector("#ppcp-credit-card-gateway-card-expiry"),d=jn(p);p.parentNode.replaceChild(d,p);var y=document.querySelector("#ppcp-credit-card-gateway-card-cvc"),m=jn(y);y.parentNode.replaceChild(m,y),o.style.display=i;var b=".payment_box payment_method_ppcp-credit-card-gateway";return this.defaultConfig.enforce_vault&&document.querySelector(b+" .ppcp-credit-card-vault")&&(document.querySelector(b+" .ppcp-credit-card-vault").checked=!0,document.querySelector(b+" .ppcp-credit-card-vault").setAttribute("disabled",!0)),paypal.HostedFields.render({createOrder:t.createOrder,styles:{input:s},fields:{number:{selector:"#ppcp-credit-card-gateway-card-number",placeholder:this.defaultConfig.hosted_fields.labels.credit_card_number},cvv:{selector:"#ppcp-credit-card-gateway-card-cvc",placeholder:this.defaultConfig.hosted_fields.labels.cvv},expirationDate:{selector:"#ppcp-credit-card-gateway-card-expiry",placeholder:this.defaultConfig.hosted_fields.labels.mm_yy}}}).then(function(o){document.dispatchEvent(new CustomEvent("hosted_fields_loaded")),r.currentHostedFieldsInstance=o,o.on("inputSubmitRequest",function(){r._submit(t)}),o.on("cardTypeChange",function(e){if(e.cards.length){var t=r.defaultConfig.hosted_fields.valid_cards;r.cardValid=-1!==t.indexOf(e.cards[0].type);var n=r._cardNumberFiledCLassNameByCardType(e.cards[0].type);r._recreateElementClassAttribute(f,c.className),1===e.cards.length&&f.classList.add(n)}else r.cardValid=!1}),o.on("validityChange",function(e){r.formValid=Object.keys(e.fields).every(function(t){return e.fields[t].isValid})}),o.on("empty",function(e){r._recreateElementClassAttribute(f,c.className),r.emptyFields.add(e.emittedBy)}),o.on("notEmpty",function(e){r.emptyFields.delete(e.emittedBy)}),Ve(n),!0!==document.querySelector(e).getAttribute("data-ppcp-subscribed")&&(document.querySelector(n).addEventListener("click",function(e){e.preventDefault(),r._submit(t)}),document.querySelector(e).setAttribute("data-ppcp-subscribed",!0))}),void document.querySelector("#payment_method_ppcp-credit-card-gateway").addEventListener("click",function(){document.querySelector("label[for=ppcp-credit-card-gateway-card-number]").click()})}var h=document.querySelector(e);h.parentNode.removeChild(h)}}},{key:"disableFields",value:function(){this.currentHostedFieldsInstance&&(this.currentHostedFieldsInstance.setAttribute({field:"number",attribute:"disabled"}),this.currentHostedFieldsInstance.setAttribute({field:"cvv",attribute:"disabled"}),this.currentHostedFieldsInstance.setAttribute({field:"expirationDate",attribute:"disabled"}))}},{key:"enableFields",value:function(){this.currentHostedFieldsInstance&&(this.currentHostedFieldsInstance.removeAttribute({field:"number",attribute:"disabled"}),this.currentHostedFieldsInstance.removeAttribute({field:"cvv",attribute:"disabled"}),this.currentHostedFieldsInstance.removeAttribute({field:"expirationDate",attribute:"disabled"}))}},{key:"_submit",value:function(e){var t=this;if(this.spinner.block(),this.errorHandler.clear(),this.formValid&&this.cardValid){var r=!!this.defaultConfig.can_save_vault_token,n=document.getElementById("ppcp-credit-card-vault")?document.getElementById("ppcp-credit-card-vault").checked:r;this.defaultConfig.enforce_vault&&(n=!0);var o=this.defaultConfig.hosted_fields.contingency,i={vault:n};if("NO_3D_SECURE"!==o&&(i.contingencies=[o]),this.defaultConfig.payer&&(i.cardholderName=this.defaultConfig.payer.name.given_name+" "+this.defaultConfig.payer.name.surname),!i.cardholderName){var a=document.getElementById("billing_first_name")?document.getElementById("billing_first_name").value:"",u=document.getElementById("billing_last_name")?document.getElementById("billing_last_name").value:"";i.cardholderName=a+" "+u}this.currentHostedFieldsInstance.submit(i).then(function(r){return r.orderID=r.orderId,t.spinner.unblock(),e.onApprove(r)}).catch(function(e){var r,n,o,i;t.spinner.unblock(),t.errorHandler.clear(),null!==(r=e.data)&&void 0!==r&&null!==(r=r.details)&&void 0!==r&&r.length?t.errorHandler.message(e.data.details.map(function(e){return"".concat(e.issue," ").concat(e.description)}).join("<br/>")):null!==(n=e.details)&&void 0!==n&&n.length?t.errorHandler.message(e.details.map(function(e){return"".concat(e.issue," ").concat(e.description)}).join("<br/>")):(null===(o=e.data)||void 0===o||null===(o=o.errors)||void 0===o?void 0:o.length)>0?t.errorHandler.messages(e.data.errors):null!==(i=e.data)&&void 0!==i&&i.message?t.errorHandler.message(e.data.message):e.message?t.errorHandler.message(e.message):t.errorHandler.genericError()})}else{this.spinner.unblock();var c=this.defaultConfig.labels.error.generic;this.emptyFields.size>0?c=this.defaultConfig.hosted_fields.labels.fields_empty:this.cardValid?this.formValid||(c=this.defaultConfig.hosted_fields.labels.fields_not_valid):c=this.defaultConfig.hosted_fields.labels.card_not_supported,this.errorHandler.message(c)}}},{key:"_cardNumberFiledCLassNameByCardType",value:function(e){return"american-express"===e?"amex":e.replace("-","")}},{key:"_recreateElementClassAttribute",value:function(e,t){e.removeAttribute("class"),e.setAttribute("class",t)}}])}();const En=Cn;function An(e,t){if(t&&!t.hidden&&e){var r={style:{input:(n=t,o=["appearance","color","direction","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","opacity","outline","padding","padding-bottom","padding-left","padding-right","padding-top","text-shadow","transition","-moz-appearance","-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-appearance","-webkit-osx-font-smoothing","-webkit-tap-highlight-color","-webkit-transition"],i=window.getComputedStyle(n),a={},Object.values(i).forEach(function(e){i[e]&&o.includes(e)&&(a[e]=""+i[e])}),a)}};t.getAttribute("placeholder")&&(r.placeholder=t.getAttribute("placeholder")),e(r).render(t.parentNode),Ue(t,!0),t.hidden=!0}var n,o,i,a}function Tn(e){An(e.NameField,document.getElementById("ppcp-credit-card-gateway-card-name")),An(e.NumberField,document.getElementById("ppcp-credit-card-gateway-card-number")),An(e.ExpiryField,document.getElementById("ppcp-credit-card-gateway-card-expiry")),An(e.CVVField,document.getElementById("ppcp-credit-card-gateway-card-cvc"))}function xn(e){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function Bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,In(n.key),n)}}function In(e){var t=function(e){if("object"!=xn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xn(t)?t:t+""}var Gn=function(){return function(e,t){return t&&Bn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultConfig=t,this.errorHandler=r,this.spinner=n,this.cardValid=!1,this.formValid=!1,this.emptyFields=new Set(["number","cvv","expirationDate"]),this.currentHostedFieldsInstance=null,this.onCardFieldsBeforeSubmit=o},[{key:"render",value:function(e,t){var r=this;if(("checkout"===this.defaultConfig.context||"pay-now"===this.defaultConfig.context)&&null!==e&&null!==document.querySelector(e)){var n=e+" button",o=document.querySelector(".payment_box.payment_method_ppcp-credit-card-gateway");if(o){var i=o.style.display;o.style.display="block";var a=document.querySelector("#ppcp-hide-dcc");a&&a.parentNode.removeChild(a);var u=document.querySelector(".wc_payment_method.payment_method_ppcp-credit-card-gateway");"none"!==u.style.display&&""!==u.style.display||(u.style.display="block");var c=paypal.CardFields({createOrder:t.createOrder,onApprove:function(e){return t.onApprove(e)},onError:function(e){console.error(e),r.spinner.unblock()}});if(c.isEligible()&&(Tn(c),document.dispatchEvent(new CustomEvent("hosted_fields_loaded"))),o.style.display=i,Ve(n),this.defaultConfig.cart_contains_subscription){var l=document.querySelector("#wc-ppcp-credit-card-gateway-new-payment-method");l&&(l.checked=!0,l.disabled=!0)}document.querySelector(n).addEventListener("click",function(e){var t;e.preventDefault(),r.spinner.block(),r.errorHandler.clear();var n=null===(t=document.querySelector('input[name="wc-ppcp-credit-card-gateway-payment-token"]:checked'))||void 0===t?void 0:t.value;n&&"new"!==n?document.querySelector("#place_order").click():"function"!=typeof r.onCardFieldsBeforeSubmit||r.onCardFieldsBeforeSubmit()?c.submit().catch(function(e){r.spinner.unblock(),e.type&&"create-order-error"===e.type||(console.error(e),r.errorHandler.message(r.defaultConfig.hosted_fields.labels.fields_not_valid))}):r.spinner.unblock()})}}}},{key:"disableFields",value:function(){}},{key:"enableFields",value:function(){}}])}();const Fn=Gn;function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function Dn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mn(n.key),n)}}function Mn(e){var t=function(e){if("object"!=qn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qn(t)?t:t+""}var Hn=function(){return function(e,t){return t&&Dn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultConfig=t,this.errorHandler=r,this.spinner=n},[{key:"render",value:function(e,t){var r,n=this;if(("checkout"===this.defaultConfig.context||"pay-now"===this.defaultConfig.context)&&null!==e&&null!==document.querySelector(e)){var o=e+" button",i=document.querySelector(".payment_box.payment_method_ppcp-credit-card-gateway");if(i){var a=i.style.display;i.style.display="block";var u=document.querySelector("#ppcp-hide-dcc");u&&u.parentNode.removeChild(u);var c=document.querySelector(".wc_payment_method.payment_method_ppcp-credit-card-gateway");"none"!==c.style.display&&""!==c.style.display||(c.style.display="block"),this.errorHandler.clear();var l,s,f,p,d=paypal.CardFields(Pr(this.defaultConfig));if(this.defaultConfig.user.is_logged&&(d=paypal.CardFields((l=this.defaultConfig,s=this.errorHandler,{createVaultSetupToken:(p=fr(cr().m(function e(){return cr().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,vr(l,s,{paymentMethod:m.CARDS,verificationMethod:l.verification_method});case 1:return e.a(2,e.v)}},e)})),function(){return p.apply(this,arguments)}),onApprove:(f=fr(cr().m(function e(t){var r,n,o,i,a;return cr().w(function(e){for(;;)switch(e.n){case 0:return o=t.vaultSetupToken,i=null!==(r=null==l?void 0:l.is_free_trial_cart)&&void 0!==r&&r,a=null!==(n=null==l?void 0:l.context)&&void 0!==n?n:null,e.n=1,wr(l,s,o,{paymentMethod:m.CARDS,context:a,isFreeTrialCart:i});case 1:return e.a(2,e.v)}},e)})),function(e){return f.apply(this,arguments)}),onError:function(e){!function(e,t,r){console.error(e),null==t||t.message(r)}(e,s,l.error_message)}}))),d.isEligible()&&Tn(d),i.style.display=a,Ve(o),this.defaultConfig.cart_contains_subscription){var y=document.querySelector("#wc-ppcp-credit-card-gateway-new-payment-method");y&&(y.checked=!0,y.disabled=!0)}null===(r=document.querySelector(o))||void 0===r||r.addEventListener("click",function(e){e.preventDefault(),n.spinner.block(),n.errorHandler.clear(),d.submit().catch(function(e){console.error(e)})})}}}},{key:"disableFields",value:function(){}},{key:"enableFields",value:function(){}}])}();const Rn=Hn;function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function Nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ln(n.key),n)}}function Ln(e){var t=function(e){if("object"!=Qn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qn(t)?t:t+""}var Un=function(){return function(e,t){return t&&Nn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.optionsFingerprint=null,this.currentNumber=0},[{key:"renderWithAmount",value:function(e){if(this.shouldRender()){var t={amount:e};if(this.config.placement&&(t.placement=this.config.placement),this.config.style&&(t.style=this.config.style),document.querySelector(this.config.wrapper).getAttribute("data-render-number")!==this.currentNumber.toString()&&(this.optionsFingerprint=null),!this.optionsEqual(t)){var r=document.querySelector(this.config.wrapper);this.currentNumber++,r.setAttribute("data-render-number",this.currentNumber),it.registerMessages(this.config.wrapper,t),it.renderMessages(this.config.wrapper)}}}},{key:"optionsEqual",value:function(e){var t=JSON.stringify(e);return this.optionsFingerprint===t||(this.optionsFingerprint=t,!1)}},{key:"shouldRender",value:function(){return"undefined"!=typeof paypal&&void 0!==paypal.Messages&&void 0!==this.config.wrapper&&!!document.querySelector(this.config.wrapper)}}])}();const Vn=Un;function Jn(e){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(e)}function Wn(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return zn(l,"_invoke",function(r,n,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,u=0,c=e,p.n=r,a}};function d(r,n){for(u=r,c=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,y=i[2];r>3?(o=y===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,u=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),u=s,c=y;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=p.n<0)?c:r.call(n,p))!==a)break}catch(t){i=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(zn(t={},n,function(){return this}),t),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,zn(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,zn(f,"constructor",l),zn(l,"constructor",c),c.displayName="GeneratorFunction",zn(l,o,"GeneratorFunction"),zn(f),zn(f,o,"Generator"),zn(f,n,function(){return this}),zn(f,"toString",function(){return"[object Generator]"}),(Wn=function(){return{w:i,m:p}})()}function zn(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}zn=function(e,t,r,n){function i(t,r){zn(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},zn(e,t,r,n)}function $n(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function Yn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kn(n.key),n)}}function Kn(e){var t=function(e){if("object"!=Jn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Jn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jn(t)?t:t+""}var Xn=function(){return function(e,t){return t&&Yn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,n,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.formSelector=r,this.formSaver=n,this.formValidator=o,this.spinner=i,this.errorHandler=a},[{key:"handle",value:(e=Wn().m(function e(){var t,r,n,o,i,a;return Wn().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.spinner.block(),e.p=1,e.n=2,this.formSaver.save(document.querySelector(this.formSelector));case 2:e.n=4;break;case 3:e.p=3,o=e.v,console.error(o);case 4:if(e.p=4,!this.formValidator){e.n=9;break}return e.p=5,e.n=6,this.formValidator.validate(document.querySelector(this.formSelector));case 6:if(!((t=e.v).length>0)){e.n=7;break}return this.spinner.unblock(),this.errorHandler.messages(t),jQuery(document.body).trigger("checkout_error",[this.errorHandler.currentHtml()]),e.a(2);case 7:e.n=9;break;case 8:e.p=8,i=e.v,console.error(i);case 9:return e.n=10,fetch(this.config.ajax.vault_paypal.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:this.config.ajax.vault_paypal.nonce,return_url:location.href})});case 10:return r=e.v,e.n=11,r.json();case 11:if((n=e.v).success){e.n=12;break}throw Error(n.data.message);case 12:location.href=n.data.approve_link,e.n=14;break;case 13:e.p=13,a=e.v,this.spinner.unblock(),console.error(a),this.errorHandler.message(data.data.message);case 14:return e.a(2)}},e,this,[[5,8],[4,13],[1,3]])}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){$n(i,n,o,a,u,"next",e)}function u(e){$n(i,n,o,a,u,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)})}]);var e,t}();const Zn=Xn;function eo(e){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(e)}function to(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ro(n.key),n)}}function ro(e){var t=function(e){if("object"!=eo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==eo(t)?t:t+""}function no(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function oo(e,t){return e.get(ao(e,t))}function io(e,t,r){return e.set(ao(e,t),r),r}function ao(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var uo=new WeakMap,co=new WeakMap,lo=new WeakMap,so=new WeakMap,fo=function(){return function(e,t){return t&&to(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),no(this,uo,void 0),no(this,co,150),no(this,lo,void 0),no(this,so,void 0),io(so,this,t),io(uo,this,n||".woocommerce-checkout-payment"),io(lo,this,!1),setTimeout(function(){r.form&&!r.isVisible&&r.start()},250)},[{key:"form",get:function(){return document.querySelector(oo(so,this))}},{key:"triggerElement",get:function(){var e;return null===(e=this.form)||void 0===e?void 0:e.querySelector(oo(uo,this))}},{key:"isVisible",get:function(){var e,t=null===(e=this.triggerElement)||void 0===e?void 0:e.getBoundingClientRect();return!!(t&&t.width&&t.height)}},{key:"start",value:function(){var e=this;this.stop(),io(lo,this,setInterval(function(){return e.checkElement()},oo(co,this)))}},{key:"stop",value:function(){oo(lo,this)&&(clearInterval(oo(lo,this)),io(lo,this,!1))}},{key:"checkElement",value:function(){this.isVisible&&(document.dispatchEvent(new Event("ppcp_refresh_payment_buttons")),this.stop())}}])}();const po=fo;function yo(e){return yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(e)}function mo(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return bo(l,"_invoke",function(r,n,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,u=0,c=e,p.n=r,a}};function d(r,n){for(u=r,c=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,y=i[2];r>3?(o=y===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,u=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),u=s,c=y;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=p.n<0)?c:r.call(n,p))!==a)break}catch(t){i=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(bo(t={},n,function(){return this}),t),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,bo(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,bo(f,"constructor",l),bo(l,"constructor",c),c.displayName="GeneratorFunction",bo(l,o,"GeneratorFunction"),bo(f),bo(f,o,"Generator"),bo(f,n,function(){return this}),bo(f,"toString",function(){return"[object Generator]"}),(mo=function(){return{w:i,m:p}})()}function bo(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}bo=function(e,t,r,n){function i(t,r){bo(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},bo(e,t,r,n)}function ho(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function vo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,go(n.key),n)}}function go(e){var t=function(e){if("object"!=yo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=yo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yo(t)?t:t+""}var wo=function(){return function(e,t){return t&&vo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.nonce=r},[{key:"save",value:(e=mo().m(function e(t){var r,n,o;return mo().w(function(e){for(;;)switch(e.n){case 0:return r=new FormData(t),e.n=1,fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:this.nonce,form_encoded:new URLSearchParams(r).toString()})});case 1:return n=e.v,e.n=2,n.json();case 2:if((o=e.v).success){e.n=3;break}throw Error(o.data.message);case 3:return e.a(2)}},e,this)}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ho(i,n,o,a,u,"next",e)}function u(e){ho(i,n,o,a,u,"throw",e)}a(void 0)})},function(_x){return t.apply(this,arguments)})}]);var e,t}();function _o(e){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function jo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Po(n.key),n)}}function Po(e){var t=function(e){if("object"!=_o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_o(t)?t:t+""}var Oo=function(){return function(e,t){return t&&jo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contextBootstrapRegistry={},this.contextBootstrapWatchers=[]},[{key:"watchContextBootstrap",value:function(e){this.contextBootstrapWatchers.push(e),Object.values(this.contextBootstrapRegistry).forEach(e)}},{key:"registerContextBootstrap",value:function(e,t){this.contextBootstrapRegistry[e]={context:e,handler:t};var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return So(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?So(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var _n=0,n=function(){};return{s:n,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(this.contextBootstrapWatchers);try{for(n.s();!(r=n.n()).done;)(0,r.value)(this.contextBootstrapRegistry[e])}catch(e){n.e(e)}finally{n.f()}}}])}();window.ppcpResources=window.ppcpResources||{};const ko=window.ppcpResources.ButtonModuleWatcher=window.ppcpResources.ButtonModuleWatcher||new Oo;function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}function Eo(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return Ao(l,"_invoke",function(r,n,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,u=0,c=e,p.n=r,a}};function d(r,n){for(u=r,c=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,y=i[2];r>3?(o=y===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,u=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),u=s,c=y;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=p.n<0)?c:r.call(n,p))!==a)break}catch(t){i=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(Ao(t={},n,function(){return this}),t),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Ao(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,Ao(f,"constructor",l),Ao(l,"constructor",c),c.displayName="GeneratorFunction",Ao(l,o,"GeneratorFunction"),Ao(f),Ao(f,o,"Generator"),Ao(f,n,function(){return this}),Ao(f,"toString",function(){return"[object Generator]"}),(Eo=function(){return{w:i,m:p}})()}function Ao(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ao=function(e,t,r,n){function i(t,r){Ao(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Ao(e,t,r,n)}function To(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function xo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bo(n.key),n)}}function Bo(e){var t=function(e){if("object"!=Co(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Co(t)?t:t+""}var Io=function(){return function(e,t){return t&&xo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gateway=t,this.renderers=[],this.lastAmount=this.gateway.messages.amount,r&&this.renderers.push(r)},[{key:"init",value:(e=Eo().m(function e(){var t,r=this;return Eo().w(function(e){for(;;)switch(e.n){case 0:if(null===(t=this.gateway.messages)||void 0===t||null===(t=t.block)||void 0===t||!t.enabled){e.n=1;break}return e.n=1,this.attemptDiscoverBlocks(3);case 1:jQuery(document.body).on("ppcp_cart_rendered ppcp_checkout_rendered",function(){r.render()}),jQuery(document.body).on("ppcp_script_data_changed",function(e,t){r.gateway=t,r.render()}),jQuery(document.body).on("ppcp_cart_total_updated ppcp_checkout_total_updated ppcp_product_total_updated ppcp_block_cart_total_updated",function(e,t){r.lastAmount!==t&&(r.lastAmount=t,r.render())}),this.render();case 2:return e.a(2)}},e,this)}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){To(i,n,o,a,u,"next",e)}function u(e){To(i,n,o,a,u,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)})},{key:"attemptDiscoverBlocks",value:function(e){var t=this;return new Promise(function(r,n){t.discoverBlocks().then(function(n){!n&&e>0?setTimeout(function(){t.attemptDiscoverBlocks(e-1).then(r)},2e3):r()})})}},{key:"discoverBlocks",value:function(){var e=this;return new Promise(function(t){var r=document.querySelectorAll(".ppcp-messages");0!==r.length?(Array.from(r).forEach(function(t){t.id||(t.id="ppcp-message-".concat(Math.random().toString(36).substr(2,9)));var r={wrapper:"#"+t.id};t.getAttribute("data-pp-placement")||(r.placement=e.gateway.messages.placement),e.renderers.push(new Vn(r))}),t(!0)):t(!1)})}},{key:"shouldShow",value:function(e){if(!0===this.gateway.messages.is_hidden)return!1;var t={result:!0};return jQuery(document.body).trigger("ppcp_should_show_messages",[t,e.config.wrapper]),t.result}},{key:"render",value:function(){var e=this;this.renderers.forEach(function(t){var r=e.shouldShow(t);r&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise(function(n,o){var i=setTimeout(function(){clearInterval(u),o('Element "'.concat(e,'" not found within ').concat(t,"ms"))},t),a=document.querySelector(e);if(a)return clearTimeout(i),void n(a);var u=setInterval(function(){var t=document.querySelector(e);t&&(clearTimeout(i),clearInterval(u),n(t))},r)})}(t.config.wrapper).then(function(){Ne(t.config.wrapper,r),t.renderWithAmount(e.lastAmount)}).catch(function(){})})}}]);var e,t}();const Go=Io;function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}function qo(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Do(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Do(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var _n=0,n=function(){};return{s:n,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Mo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ho(n.key),n)}}function Ho(e){var t=function(e){if("object"!=Fo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Fo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fo(t)?t:t+""}var Ro=function(){return function(e,t){return t&&Mo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=t,this.selectorInContainer=r,this.containers=[],this.reloadContainers(),jQuery(window).resize(function(){n.refresh()}).resize(),jQuery(document).on("ppcp-smart-buttons-init",function(){n.refresh()}),jQuery(document).on("ppcp-shown ppcp-hidden ppcp-enabled ppcp-disabled",function(e,t){n.refresh(),setTimeout(n.refresh.bind(n),200)}),new MutationObserver(this.observeElementsCallback.bind(this)).observe(document.body,{childList:!0,subtree:!0})},[{key:"observeElementsCallback",value:function(e,t){var r,n=this.selector+", .widget_shopping_cart, .widget_shopping_cart_content",o=!1,i=qo(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;"childList"===a.type&&a.addedNodes.forEach(function(e){e.matches&&e.matches(n)&&(o=!0)})}}catch(e){i.e(e)}finally{i.f()}o&&(this.reloadContainers(),this.refresh())}},{key:"reloadContainers",value:function(){var e=this;jQuery(this.selector).each(function(t,r){var n=jQuery(r).parent();e.containers.some(function(e){return e.is(n)})||e.containers.push(n)})}},{key:"refresh",value:function(){var e,t=this,r=qo(this.containers);try{var n=function(){var r=e.value,n=jQuery(r),o=n.width();n.removeClass("ppcp-width-500 ppcp-width-300 ppcp-width-min"),o>=500?n.addClass("ppcp-width-500"):o>=300?n.addClass("ppcp-width-300"):n.addClass("ppcp-width-min");var i=n.children(":visible").first();n.find(t.selectorInContainer).each(function(e,t){var r=jQuery(t);if(r.is(i))return r.css("margin-top","0px"),!0;var n=r.height(),o=Math.max(11,Math.round(.3*n));r.css("margin-top","".concat(o,"px"))})};for(r.s();!(e=r.n()).done;)n()}catch(e){r.e(e)}finally{r.f()}}}])}();function Qo(e,t){if(e){if("string"==typeof e)return No(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?No(e,t):void 0}}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Lo(e){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(e)}function Uo(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return Vo(l,"_invoke",function(r,n,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,u=0,c=e,p.n=r,a}};function d(r,n){for(u=r,c=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,y=i[2];r>3?(o=y===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,u=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),u=s,c=y;(t=u<2?e:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=p.n<0)?c:r.call(n,p))!==a)break}catch(t){i=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(Vo(t={},n,function(){return this}),t),f=l.prototype=u.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Vo(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,Vo(f,"constructor",l),Vo(l,"constructor",c),c.displayName="GeneratorFunction",Vo(l,o,"GeneratorFunction"),Vo(f),Vo(f,o,"Generator"),Vo(f,n,function(){return this}),Vo(f,"toString",function(){return"[object Generator]"}),(Uo=function(){return{w:i,m:p}})()}function Vo(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Vo=function(e,t,r,n){function i(t,r){Vo(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},Vo(e,t,r,n)}function Jo(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}var Wo=new u(document.querySelector(".ppc-button-wrapper")),zo=new u("#ppcp-hosted-fields");document.addEventListener("DOMContentLoaded",function(){if("undefined"==typeof PayPalCommerceGateway||Lo(PayPalCommerceGateway)){if("checkout"===PayPalCommerceGateway.context||0!==PayPalCommerceGateway.data_client_id.user||!PayPalCommerceGateway.data_client_id.has_subscriptions){var e=[m.PAYPAL].concat(function(e){return function(e){if(Array.isArray(e))return No(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object.entries(PayPalCommerceGateway.separate_buttons).map(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||Qo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return t[0],t[1].id}))),t=function(){if(!(!["checkout","pay-now"].includes(PayPalCommerceGateway.context)||mt()||PayPalCommerceGateway.is_free_trial_cart&&PayPalCommerceGateway.vaulted_paypal_email)){var t=h(),r=e.includes(t),n=t===m.CARDS;Le(b,!r&&!n,"ppcp-hidden"),r?Wo.block():Wo.unblock(),n?zo.block():zo.unblock()}};jQuery(document).on("hosted_fields_loaded",function(){zo.unblock()});var r=!1,n=!1;t(),jQuery(document.body).on("updated_checkout payment_method_selected",function(){r||n||t()}),function(e,t){var r,n,o,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=(null==e?void 0:e.data_namespace)||"",c=(dt[i=u]||(dt[i]={isLoading:!1,onLoadedCallbacks:[],onErrorCallbacks:[]}),dt[i]);if(void 0===window.paypal||u){if(c.onLoadedCallbacks.push(t),a&&c.onErrorCallbacks.push(a),!c.isLoading){c.isLoading=!0;var l=function(){c.isLoading=!1,c.onLoadedCallbacks=[],c.onErrorCallbacks=[]},s=function(e){it.setPaypal(e);var t,r=ft(c.onLoadedCallbacks);try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(e){r.e(e)}finally{r.f()}l()},f=function(e){var t,r=ft(c.onErrorCallbacks);try{for(r.s();!(t=r.n()).done;)(0,t.value)(e)}catch(e){r.e(e)}finally{r.f()}l()},p=ut(e.url_params);if(e.script_attributes&&(p=G()(p,e.script_attributes)),null!==(r=e.data_client_id)&&void 0!==r&&r.set_attribute&&"1"!==e.vault_v3_enabled)Ye(p,e.data_client_id,s,f);else{var d=null==e||null===(n=e.save_payment_methods)||void 0===n?void 0:n.id_token;d&&!0===(null==e||null===(o=e.user)||void 0===o?void 0:o.is_logged)&&(p["data-user-id-token"]=d),u&&(p.dataNamespace=u),We(p).then(s).catch(f)}}}else t()}(PayPalCommerceGateway,function(){r=!0,function(){var e,t="form.woocommerce-checkout",r=PayPalCommerceGateway.context,n=new Vt(PayPalCommerceGateway.labels.error.generic,null!==(e=document.querySelector(t))&&void 0!==e?e:document.querySelector(".woocommerce-notices-wrapper")),o=new u,i=new wo(PayPalCommerceGateway.ajax.save_checkout_form.endpoint,PayPalCommerceGateway.ajax.save_checkout_form.nonce),a=PayPalCommerceGateway.early_checkout_validation_enabled?new Rt(PayPalCommerceGateway.ajax.validate_checkout.endpoint,PayPalCommerceGateway.ajax.validate_checkout.nonce):null,c=new Zn(PayPalCommerceGateway,t,i,a,o,n);new po(t),jQuery("form.woocommerce-checkout input").on("keydown",function(e){"Enter"===e.key&&[m.PAYPAL,m.CARDS,m.CARD_BUTTON].includes(h())&&e.preventDefault()});var l,s=function(){if(PayPalCommerceGateway.basic_checkout_validation_enabled||PayPalCommerceGateway.is_free_trial_cart){var e=Array.from(jQuery("form.woocommerce-checkout .validate-required.woocommerce-invalid:visible"));if(e.length){var t=document.querySelector(".woocommerce-billing-fields"),r=document.querySelector(".woocommerce-shipping-fields"),o=PayPalCommerceGateway.labels.error.required.elements,i=e.map(function(e){var n,i=null===(n=e.querySelector("[name]"))||void 0===n?void 0:n.getAttribute("name");if(i&&i in o)return o[i];var a=e.querySelector("label").textContent.replaceAll("*","").trim();return null!=t&&t.contains(e)&&(a=PayPalCommerceGateway.labels.billing_field.replace("%s",a)),null!=r&&r.contains(e)&&(a=PayPalCommerceGateway.labels.shipping_field.replace("%s",a)),PayPalCommerceGateway.labels.error.required.field.replace("%s","<strong>".concat(a,"</strong>"))}).filter(function(e){return e.length>2});return n.clear(),i.length?n.messages(i):n.message(PayPalCommerceGateway.labels.error.required.generic),!1}}return!0},f=function(){var e,n=(e=Uo().m(function e(n,o){var a,u;return Uo().w(function(e){for(;;)switch(e.p=e.n){case 0:if(window.ppcpFundingSource=n.fundingSource,jQuery("form.woocommerce-checkout .validate-required:visible :input").each(function(e,t){jQuery(t).trigger("validate")}),s()){e.n=1;break}return e.a(2,o.reject());case 1:if((a=document.querySelector(t))&&(jQuery("#ppcp-funding-source-form-input").remove(),a.insertAdjacentHTML("beforeend",'<input type="hidden" name="ppcp-funding-source" value="'.concat(n.fundingSource,'" id="ppcp-funding-source-form-input">'))),!PayPalCommerceGateway.is_free_trial_cart||"card"===n.fundingSource||PayPalCommerceGateway.subscription_plan_id||PayPalCommerceGateway.vault_v3_enabled){e.n=2;break}return c.handle(),e.a(2,o.reject());case 2:if("checkout"!==r){e.n=6;break}return e.p=3,e.n=4,i.save(a);case 4:e.n=6;break;case 5:e.p=5,u=e.v,console.error(u);case 6:return e.a(2)}},e,null,[[3,5]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Jo(i,n,o,a,u,"next",e)}function u(e){Jo(i,n,o,a,u,"throw",e)}a(void 0)})});return function(_x,e){return n.apply(this,arguments)}}(),p=new En(PayPalCommerceGateway,n,o);void 0!==paypal.CardFields&&(p=PayPalCommerceGateway.is_free_trial_cart&&!0!==(null===(l=PayPalCommerceGateway.user)||void 0===l?void 0:l.has_wc_card_payment_tokens)?new Rn(PayPalCommerceGateway,n,o):new Fn(PayPalCommerceGateway,n,o,function(){return s()}));var d=new Sn(p,PayPalCommerceGateway,f,function(){jQuery(document).trigger("ppcp-smart-buttons-init",void 0),Wo.unblock()}),y=new Vn(PayPalCommerceGateway.messages);if("1"===PayPalCommerceGateway.mini_cart_buttons_enabled){var b=new J(PayPalCommerceGateway,d,n);b.init(),ko.registerContextBootstrap("mini-cart",b)}if("product"===r&&("1"===PayPalCommerceGateway.single_product_buttons_enabled||!1===PayPalCommerceGateway.messages.is_hidden&&document.querySelector(PayPalCommerceGateway.messages.wrapper))){var v=new Et(PayPalCommerceGateway,d,n);v.init(),ko.registerContextBootstrap("product",v)}if("cart"===r){var g=new It(PayPalCommerceGateway,d,n);g.init(),ko.registerContextBootstrap("cart",g)}if("checkout"===r){var w=new qr(PayPalCommerceGateway,d,o,n);w.init(),ko.registerContextBootstrap("checkout",w)}if("pay-now"===r){var _=new Vr(PayPalCommerceGateway,d,o,n);_.init(),ko.registerContextBootstrap("pay-now",_)}new Go(PayPalCommerceGateway,y).init(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".ppcp-button-apm",r=t;if(!window.ppcpApmButtons){if(e&&e.button){var n=e.button.wrapper;jQuery(n).children('div[class^="item-"]').length>0&&(t+=", ".concat(n,' div[class^="item-"]'),r+=', div[class^="item-"]')}window.ppcpApmButtons=new Ro(t,r)}}(PayPalCommerceGateway),d.useSmartButtons||Wo.unblock()}()},function(){n=!0,Le(b,!0,"ppcp-hidden"),Wo.unblock(),zo.unblock()})}}else console.error("PayPal button could not be configured.")})})();