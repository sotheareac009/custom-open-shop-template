(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wc.wcBlocksRegistry,n=window.wp.element,r=window.React;var o,a,i,c=e.n(r);!function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"}(o||(o={})),function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"}(a||(a={})),function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"}(i||(i={}));var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function l(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var d="data-react-paypal-script-id",p="react-paypal-js",f="dataNamespace",v="dataSdkIntegrationSource",m="3.117.0",y=("https://js.braintreegateway.com/web/".concat(m,"/js/client.min.js"),"https://js.braintreegateway.com/web/".concat(m,"/js/paypal-checkout.min.js"),"paypal");function h(e){return void 0===e&&(e=y),window[e]}function g(e){var t=e.reactComponentName,n=e.sdkComponentKey,r=e.sdkRequestedComponents,o=void 0===r?"":r,a=e.sdkDataNamespace,i=void 0===a?y:a,c=n.charAt(0).toUpperCase().concat(n.substring(1)),u="Unable to render <".concat(t," /> because window.").concat(i,".").concat(c," is undefined."),s="string"==typeof o?o:o.join(",");if(!s.includes(n)){var l=[s,n].filter(Boolean).join();u+="\nTo fix the issue, add '".concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(l,"'}}>`.")}return u}function b(e){var t=e,n=d;t[n];var r=s(t,[n+""]);return"react-paypal-js-".concat(function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].charCodeAt(0)*n;e[n+1]&&(r+=e[n+1].charCodeAt(0)*(n-1)),t+=String.fromCharCode(97+Math.abs(r)%26)}return t}(JSON.stringify(r)))}function E(e,t){var n,r,i,c;switch(t.type){case a.LOADING_STATUS:return"object"==typeof t.value?u(u({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):u(u({},e),{loadingStatus:t.value});case a.RESET_OPTIONS:return i=e.options[d],(null==(c=self.document.querySelector("script[".concat(d,'="').concat(i,'"]')))?void 0:c.parentNode)&&c.parentNode.removeChild(c),u(u({},e),{loadingStatus:o.PENDING,options:u(u((n={},n[v]=p,n),t.value),(r={},r[d]="".concat(b(t.value)),r))});case a.SET_BRAINTREE_INSTANCE:return u(u({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var w=(0,r.createContext)(null);function S(){var e=function(e){if("function"==typeof(null==e?void 0:e.dispatch)&&0!==e.dispatch.length)return e;throw new Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}((0,r.useContext)(w));return[u(u({},e),{isInitial:e.loadingStatus===o.INITIAL,isPending:e.loadingStatus===o.PENDING,isResolved:e.loadingStatus===o.RESOLVED,isRejected:e.loadingStatus===o.REJECTED}),e.dispatch]}function _(e){var t=(0,r.useRef)(new Proxy({},{get:function(e,t,n){return"function"==typeof e[t]?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e[t].apply(e,n)}:Reflect.get(e,t,n)}}));return t.current=Object.assign(t.current,e),t.current}(0,r.createContext)({});var P=function(e){var t,n=e.className,o=void 0===n?"":n,a=e.disabled,i=void 0!==a&&a,d=e.children,p=e.forceReRender,v=void 0===p?[]:p,m=s(e,["className","disabled","children","forceReRender"]),y=i?{opacity:.38}:{},b="".concat(o," ").concat(i?"paypal-buttons-disabled":"").trim(),E=(0,r.useRef)(null),w=(0,r.useRef)(null),O=_(m),N=S()[0],j=N.isResolved,R=N.options,T=(0,r.useState)(null),C=T[0],I=T[1],k=(0,r.useState)(!0),F=k[0],x=k[1],D=(0,r.useState)(null)[1];function A(){null!==w.current&&w.current.close().catch(function(){})}return(null===(t=w.current)||void 0===t?void 0:t.updateProps)&&w.current.updateProps({message:m.message}),(0,r.useEffect)(function(){if(!1===j)return A;var e=h(R.dataNamespace);if(void 0===e||void 0===e.Buttons)return D(function(){throw new Error(g({reactComponentName:P.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:R.components,sdkDataNamespace:R[f]}))}),A;try{w.current=e.Buttons(u(u({},O),{onInit:function(e,t){I(t),"function"==typeof m.onInit&&m.onInit(e,t)}}))}catch(e){return D(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(e))})}return!1===w.current.isEligible()?(x(!1),A):E.current?(w.current.render(E.current).catch(function(e){null!==E.current&&0!==E.current.children.length&&D(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(e))})}),A):A},l(l([j],v,!0),[m.fundingSource],!1)),(0,r.useEffect)(function(){null!==C&&(!0===i?C.disable().catch(function(){}):C.enable().catch(function(){}))},[i,C]),c().createElement(c().Fragment,null,F?c().createElement("div",{ref:E,style:y,className:b}):d)};function O(e,t){void 0===t&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach(function(e){n.setAttribute(e,t[e]),"data-csp-nonce"===e&&n.setAttribute("nonce",t["data-csp-nonce"])}),n}function N(e,t){if(void 0===t&&(t=Promise),R(e,t),"undefined"==typeof document)return t.resolve(null);var n=function(e){var t,n,r=e.sdkBaseUrl,o=e.environment,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["sdkBaseUrl","environment"]),i=r||function(e){return"sandbox"===e?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}(o),c=a,u=Object.keys(c).filter(function(e){return void 0!==c[e]&&null!==c[e]&&""!==c[e]}).reduce(function(e,t){var n,r=c[t].toString();return n=function(e,t){return(t?"-":"")+e.toLowerCase()},"data"===(t=t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,n)).substring(0,4)||"crossorigin"===t?e.attributes[t]=r:e.queryParams[t]=r,e},{queryParams:{},attributes:{}}),s=u.queryParams,l=u.attributes;return s["merchant-id"]&&-1!==s["merchant-id"].indexOf(",")&&(l["data-merchant-id"]=s["merchant-id"],s["merchant-id"]="*"),{url:"".concat(i,"?").concat((t=s,n="",Object.keys(t).forEach(function(e){0!==n.length&&(n+="&"),n+=e+"="+t[e]}),n)),attributes:l}}(e),r=n.url,o=n.attributes,a=o["data-namespace"]||"paypal",i=j(a);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),function(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(null===n)return null;var r=O(e,t),o=n.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(o.dataset).forEach(function(e){o.dataset[e]!==r.dataset[e]&&(a=!1)}),a?n:null}(r,o)&&i?t.resolve(i):function(e,t){void 0===t&&(t=Promise),R(e,t);var n=e.url,r=e.attributes;if("string"!=typeof n||0===n.length)throw new Error("Invalid url.");if(void 0!==r&&"object"!=typeof r)throw new Error("Expected attributes to be an object.");return new t(function(e,t){if("undefined"==typeof document)return e();!function(e){var t=e.url,n=e.attributes,r=e.onSuccess,o=e.onError,a=O(t,n);a.onerror=o,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}({url:n,attributes:r,onSuccess:function(){return e()},onError:function(){var e=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return t(e)}})})}({url:r,attributes:o},t).then(function(){var e=j(a);if(e)return e;throw new Error("The window.".concat(a," global variable is not available."))})}function j(e){return window[e]}function R(e,t){if("object"!=typeof e||null===e)throw new Error("Expected an options object.");var n=e.environment;if(n&&"production"!==n&&"sandbox"!==n)throw new Error('The `environment` option must be either "production" or "sandbox".');if(void 0!==t&&"function"!=typeof t)throw new Error("Expected PromisePonyfill to be a function.")}P.displayName="PayPalButtons","function"==typeof SuppressedError&&SuppressedError;var T=function(e){var t=e.className,n=void 0===t?"":t,o=e.children,a=s(e,["className","children"]),i=S()[0],l=i.isResolved,d=i.options,p=(0,r.useRef)(null),v=(0,r.useState)(!0),m=v[0],y=v[1],b=(0,r.useState)(null)[1];return(0,r.useEffect)(function(){if(!1!==l){var e=h(d[f]);if(void 0===e||void 0===e.Marks)return b(function(){throw new Error(g({reactComponentName:T.displayName,sdkComponentKey:"marks",sdkRequestedComponents:d.components,sdkDataNamespace:d[f]}))});!function(e){var t=p.current;if(!t||!e.isEligible())return y(!1);t.firstChild&&t.removeChild(t.firstChild),e.render(t).catch(function(e){null!==t&&0!==t.children.length&&b(function(){throw new Error("Failed to render <PayPalMarks /> component. ".concat(e))})})}(e.Marks(u({},a)))}},[l,a.fundingSource]),c().createElement(c().Fragment,null,m?c().createElement("div",{ref:p,className:n}):o)};T.displayName="PayPalMarks";var C=function(e){var t=e.className,n=void 0===t?"":t,o=e.forceReRender,a=void 0===o?[]:o,i=s(e,["className","forceReRender"]),d=S()[0],p=d.isResolved,v=d.options,m=(0,r.useRef)(null),y=(0,r.useRef)(null),b=(0,r.useState)(null)[1];return(0,r.useEffect)(function(){if(!1!==p){var e=h(v[f]);if(void 0===e||void 0===e.Messages)return b(function(){throw new Error(g({reactComponentName:C.displayName,sdkComponentKey:"messages",sdkRequestedComponents:v.components,sdkDataNamespace:v[f]}))});y.current=e.Messages(u({},i)),y.current.render(m.current).catch(function(e){null!==m.current&&0!==m.current.children.length&&b(function(){throw new Error("Failed to render <PayPalMessages /> component. ".concat(e))})})}},l([p],a,!0)),c().createElement("div",{ref:m,className:n})};C.displayName="PayPalMessages";var I=function(e){var t,n=e.options,i=void 0===n?{clientId:"test"}:n,s=e.children,l=e.deferLoading,f=void 0!==l&&l,m=(0,r.useReducer)(E,{options:u(u({},i),(t={},t.dataJsSdkLibrary=p,t[v]=p,t[d]="".concat(b(i)),t)),loadingStatus:f?o.INITIAL:o.PENDING}),y=m[0],h=m[1];return(0,r.useEffect)(function(){if(!1===f&&y.loadingStatus===o.INITIAL)return h({type:a.LOADING_STATUS,value:o.PENDING});if(y.loadingStatus===o.PENDING){var e=!0;return N(y.options).then(function(){e&&h({type:a.LOADING_STATUS,value:o.RESOLVED})}).catch(function(t){console.error("".concat("Failed to load the PayPal JS SDK script."," ").concat(t)),e&&h({type:a.LOADING_STATUS,value:{state:o.REJECTED,message:String(t)}})}),function(){e=!1}}},[y.options,f,y.loadingStatus]),c().createElement(w.Provider,{value:u(u({},y),{dispatch:h})},s)};function k(){}var F=(0,r.createContext)({cardFieldsForm:null,fields:{},registerField:k,unregisterField:k}),x=function(){return(0,r.useContext)(F)},D=function(e){var t=e.children;return c().createElement("div",{style:{width:"100%"}},t)},A=function(e){var t=e.children,n=s(e,["children"]),o=_(n.inputEvents),a=_(n),i=S()[0],l=i.isResolved,d=i.options,p=function(){var e=(0,r.useState)(null)[1],t=(0,r.useRef)({});return{fields:t.current,registerField:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n[0],a=n[1],i=n[2];return t.current[o]&&e(function(){throw new Error("Cannot use duplicate CardFields as children")}),t.current[o]=null==i?void 0:i[o](a),t.current[o]},unregisterField:function(e){var n=t.current[e];n&&(n.close().catch(k),delete t.current[e])}}}(),v=p.fields,m=p.registerField,g=p.unregisterField,b=(0,r.useState)(null),E=b[0],w=b[1],P=(0,r.useRef)(null),O=(0,r.useState)(!1),N=O[0],j=O[1],R=(0,r.useState)(null)[1];return(0,r.useEffect)(function(){var e,t,r;if(l){n.inputEvents&&(a.inputEvents=o);try{P.current=null!==(r=null===(t=(e=h(d[f])).CardFields)||void 0===t?void 0:t.call(e,u({},a)))&&void 0!==r?r:null}catch(e){return void R(function(){throw new Error("Failed to render <PayPalCardFieldsProvider /> component. Failed to initialize:  ".concat(e))})}if(P.current)return j(P.current.isEligible()),w(P.current),function(){w(null),P.current=null};R(function(){var e;throw new Error(function(e){var t=e.components,n=void 0===t?"":t,r=e[f],o=void 0===r?y:r,a=n?"".concat(n,",card-fields"):"card-fields",i="Unable to render <PayPalCardFieldsProvider /> because window.".concat(o,".CardFields is undefined.");return n.includes("card-fields")||(i+="\nTo fix the issue, add 'card-fields' to the list of components passed to the parent PayPalScriptProvider: <PayPalScriptProvider options={{ components: '".concat(a,"'}}>")),i}(((e={components:d.components})[f]=d[f],e)))})}},[l]),N?c().createElement(D,null,c().createElement(F.Provider,{value:{cardFieldsForm:E,fields:v,registerField:m,unregisterField:g}},t)):c().createElement("div",null)},G=function(e){var t=e.className,n=e.fieldName,o=s(e,["className","fieldName"]),a=x(),i=a.cardFieldsForm,u=a.registerField,l=a.unregisterField,d=(0,r.useRef)(null),p=_(o.inputEvents),f=(0,r.useState)(null)[1];function v(){l(n)}return(0,r.useEffect)(function(){if(!i)return f(function(){throw new Error("Individual CardFields must be rendered inside the PayPalCardFieldsProvider")}),v;if(!d.current)return v;o.inputEvents&&(o.inputEvents=p);var e=u(n,o,i);return null==e||e.render(d.current).catch(function(e){(function(e){var t;return!!(null===(t=e.current)||void 0===t?void 0:t.children.length)})(d)&&f(function(){throw new Error("Failed to render <PayPal".concat(n," /> component. ").concat(e))})}),v},[]),c().createElement("div",{ref:d,className:t})},M=function(e){return c().createElement(G,u({fieldName:"NameField"},e))},L=function(e){return c().createElement(G,u({fieldName:"NumberField"},e))},B=function(e){return c().createElement(G,u({fieldName:"ExpiryField"},e))},U=function(e){return c().createElement(G,u({fieldName:"CVVField"},e))},q=function(e){var t=e.getCardFieldsForm,r=e.getSavePayment,o=e.hasSubscriptionProducts,a=e.saveCardText,i=e.is_vaulting_enabled,c=x().cardFieldsForm;return(0,n.useEffect)(function(){t(c)},[]),i?React.createElement(React.Fragment,null,React.createElement("input",{type:"checkbox",id:"save",name:"save",onChange:function(e){return r(e.target.checked)},defaultChecked:o,disabled:o}),React.createElement("label",{htmlFor:"save"},a)):null};function J(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return V(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return a=t,c=0,u=e,p.n=n,i}};function f(n,r){for(c=n,u=r,t=0;!d&&s&&!o&&t<l.length;t++){var o,a=l[t],f=p.p,v=a[2];n>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=f&&((o=n<2&&f<a[1])?(c=0,p.v=r,p.n=a[1]):f<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,c=0))}if(o||n>1)return i;throw d=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,v),c=l,u=v;(t=c<2?e:u)||!d;){a||(c?c<3?(c>1&&(p.n=-1),f(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(d=p.n<0)?u:n.call(r,p))!==i)break}catch(t){a=e,c=1,u=t}finally{s=1}}return{value:t,done:d}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(V(t={},r,function(){return this}),t),d=s.prototype=c.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,V(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return u.prototype=s,V(d,"constructor",s),V(s,"constructor",u),u.displayName="GeneratorFunction",V(s,o,"GeneratorFunction"),V(d),V(d,o,"Generator"),V(d,r,function(){return this}),V(d,"toString",function(){return"[object Generator]"}),(J=function(){return{w:a,m:p}})()}function V(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}V=function(e,t,n,r){function a(t,n){V(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},V(e,t,n,r)}function K(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){K(a,r,o,i,c,"next",e)}function c(e){K(a,r,o,i,c,"throw",e)}i(void 0)})}}function z(){return H.apply(this,arguments)}function H(){return H=Y(J().m(function e(){var t;return J().w(function(e){for(;;)if(0===e.n)return t=wc.wcSettings.getSetting("ppcp-credit-card-gateway_data"),e.a(2,fetch(t.scriptData.ajax.create_order.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nonce:t.scriptData.ajax.create_order.nonce,context:t.scriptData.context,payment_method:"ppcp-credit-card-gateway",save_payment_method:"true"===localStorage.getItem("ppcp-save-card-payment")})}).then(function(e){return e.json()}).then(function(e){return e.data.id}).catch(function(e){console.error(e)}))},e)})),H.apply(this,arguments)}function X(_x){return Z.apply(this,arguments)}function Z(){return Z=Y(J().m(function e(t){var n;return J().w(function(e){for(;;)if(0===e.n)return n=wc.wcSettings.getSetting("ppcp-credit-card-gateway_data"),e.a(2,fetch(n.scriptData.ajax.approve_order.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:t.orderID,nonce:n.scriptData.ajax.approve_order.nonce})}).then(function(e){return e.json()}).then(function(e){localStorage.removeItem("ppcp-save-card-payment")}).catch(function(e){console.error(e)}))},e)})),Z.apply(this,arguments)}function $(){return Q.apply(this,arguments)}function Q(){return Q=Y(J().m(function e(){var t;return J().w(function(e){for(;;)if(0===e.n)return t=wc.wcSettings.getSetting("ppcp-credit-card-gateway_data"),e.a(2,fetch(t.scriptData.ajax.create_setup_token.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nonce:t.scriptData.ajax.create_setup_token.nonce,payment_method:"ppcp-credit-card-gateway"})}).then(function(e){return e.json()}).then(function(e){return console.log(e),e.data.id}).catch(function(e){console.error(e)}))},e)})),Q.apply(this,arguments)}function W(e){return ee.apply(this,arguments)}function ee(){return ee=Y(J().m(function e(t){var n,r,o,a,i,c;return J().w(function(e){for(;;)switch(e.n){case 0:return n=t.vaultSetupToken,r=wc.wcSettings.getSetting("ppcp-credit-card-gateway_data"),o=r.scriptData.ajax.create_payment_token_for_guest.endpoint,a={nonce:r.scriptData.ajax.create_payment_token_for_guest.nonce,vault_setup_token:n},r.scriptData.user.is_logged_in&&(o=r.scriptData.ajax.create_payment_token.endpoint,a={nonce:r.scriptData.ajax.create_payment_token.nonce,vault_setup_token:n,is_free_trial_cart:r.scriptData.is_free_trial_cart}),e.n=1,fetch(o,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 1:return i=e.v,e.n=2,i.json();case 2:!0!==(c=e.v).success&&console.error(c);case 3:return e.a(2)}},e)})),ee.apply(this,arguments)}const te=window.wp.i18n;function ne(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return re(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return a=t,c=0,u=e,p.n=n,i}};function f(n,r){for(c=n,u=r,t=0;!d&&s&&!o&&t<l.length;t++){var o,a=l[t],f=p.p,v=a[2];n>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=f&&((o=n<2&&f<a[1])?(c=0,p.v=r,p.n=a[1]):f<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,c=0))}if(o||n>1)return i;throw d=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,v),c=l,u=v;(t=c<2?e:u)||!d;){a||(c?c<3?(c>1&&(p.n=-1),f(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(d=p.n<0)?u:n.call(r,p))!==i)break}catch(t){a=e,c=1,u=t}finally{s=1}}return{value:t,done:d}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(re(t={},r,function(){return this}),t),d=s.prototype=c.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,re(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return u.prototype=s,re(d,"constructor",s),re(s,"constructor",u),u.displayName="GeneratorFunction",re(s,o,"GeneratorFunction"),re(d),re(d,o,"Generator"),re(d,r,function(){return this}),re(d,"toString",function(){return"[object Generator]"}),(ne=function(){return{w:a,m:p}})()}function re(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}re=function(e,t,n,r){function a(t,n){re(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},re(e,t,n,r)}function oe(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ie(e){var t,r,o,a,i=e.config,c=e.eventRegistration,u=e.emitResponse,s=c.onPaymentSetup,l=u.responseTypes,d=(o=(0,n.useState)(),a=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(o,a)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],f=d[1],v=!(null==(t=i.scriptData)||null===(r=t.locations_with_subscription_product)||void 0===r||!r.cart);return(0,n.useEffect)(function(){localStorage.removeItem("ppcp-save-card-payment"),v&&localStorage.setItem("ppcp-save-card-payment","true")},[v]),(0,n.useEffect)(function(){return s(function(){function e(){var t;return t=ne().m(function e(){return ne().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,p.submit().catch(function(e){return{type:l.ERROR}});case 1:return e.a(2,{type:l.SUCCESS})}},e)}),e=function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){oe(a,r,o,i,c,"next",e)}function c(e){oe(a,r,o,i,c,"throw",e)}i(void 0)})},e.apply(this,arguments)}return function(){return e.apply(this,arguments)}()})},[s,p]),React.createElement(React.Fragment,null,React.createElement(I,{options:{clientId:i.scriptData.client_id,components:"card-fields",dataNamespace:"ppcp-block-card-fields"}},React.createElement(A,{createVaultSetupToken:i.scriptData.is_free_trial_cart?$:void 0,createOrder:i.scriptData.is_free_trial_cart?void 0:z,onApprove:i.scriptData.is_free_trial_cart?W:X,onError:function(e){console.error(e)}},"yes"===i.name_on_card&&React.createElement(M,{placeholder:(0,te.__)("Cardholder Name (optional)","woocommerce-paypal-payments")}),React.createElement(L,{placeholder:(0,te.__)("Card number","woocommerce-paypal-payments")}),React.createElement("div",{style:{display:"flex",width:"100%"}},React.createElement("div",{style:{width:"100%"}},React.createElement(B,{placeholder:(0,te.__)("MM / YY","woocommerce-paypal-payments")})),React.createElement("div",{style:{width:"100%"}},React.createElement(U,{placeholder:(0,te.__)("CVV","woocommerce-paypal-payments")}))),React.createElement(q,{getCardFieldsForm:function(e){f(e)},getSavePayment:function(e){localStorage.setItem("ppcp-save-card-payment",e)},hasSubscriptionProducts:v,saveCardText:i.save_card_text,is_vaulting_enabled:i.is_vaulting_enabled}))))}var ce,ue=wc.wcSettings.getSetting("ppcp-credit-card-gateway_data"),se=null==ue||null===(ce=ue.scriptData)||void 0===ce?void 0:ce.is_user_logged_in,le=!1!==wc.wcSettings.getSetting("ppcp-axo-gateway_data"),de=function(e){var t=e.components.PaymentMethodIcons;return React.createElement(React.Fragment,null,React.createElement("span",{dangerouslySetInnerHTML:{__html:null==ue?void 0:ue.title}}),React.createElement(t,{icons:null==ue?void 0:ue.card_icons,align:"right"}))};(0,t.registerPaymentMethod)({name:null==ue?void 0:ue.id,label:React.createElement(de,null),content:React.createElement(ie,{config:ue}),edit:React.createElement(ie,{config:ue}),ariaLabel:null==ue?void 0:ue.title,canMakePayment:function(e){var t,n=((null==e||null===(t=e.cart)||void 0===t?void 0:t.cartItems)||[]).some(function(t){var n;return"subscription"===(null==t?void 0:t.type)||"variable-subscription"===(null==t?void 0:t.type)||(null==e||null===(n=e.paymentRequirements)||void 0===n?void 0:n.includes("subscriptions"))});return!!(!le||se||le&&n)},supports:{showSavedCards:!0,features:null==ue?void 0:ue.supports}})})();