(()=>{"use strict";var e=function(e,t,a){var n=function(e){return"string"==typeof e?document.querySelector(e):e}(e);n&&(t?(n.classList.remove(a),function(e,t,a){jQuery(document).trigger("ppcp-shown",{handler:e,action:"show",selector:t,element:a})}("Hiding.setVisibleByClass",e,n)):(n.classList.add(a),function(e,t,a){jQuery(document).trigger("ppcp-hidden",{handler:e,action:"hide",selector:t,element:a})}("Hiding.setVisibleByClass",e,n)))};function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}document.addEventListener("DOMContentLoaded",function(){var a,n,r,l,o=["product","cart","checkout","shop","home"],c=o.concat("general"),i="#field-pay_later_messaging_locations",s=i+" select",u="#ppcp-pay_later_messaging_enabled",d="#field-smart_button_locations",_=d+" select",f=function(e,t){var a=document.querySelector(e);a&&(a.checked||t.forEach(function(e){var t=document.querySelector(e);t&&(t.style.display="none")}),a.addEventListener("change",function(e){e.target.checked?(t.forEach(function(e){document.querySelector(e).style.display=""}),y()):t.forEach(function(e){var t=document.querySelector(e);t&&(t.style.display="none")})}))},p=function(e,t){var a=document.querySelector(e);if(a){var n=a.value;t.forEach(function(e){var t=document.querySelector(e.selector);t&&(n!==e.value||"none"===t.style.display?t.style.display="none":t.style.display="")}),jQuery(a).on("change",function(e){var a=e.target.value;t.forEach(function(e){a!==e.value?document.querySelector(e.selector).style.display="none":document.querySelector(e.selector).style.display=""})})}},y=function(){c.forEach(function(e){p("#ppcp-pay_later_"+e+"_message_layout",[{value:"text",selector:"#field-pay_later_"+e+"_message_logo"},{value:"text",selector:"#field-pay_later_"+e+"_message_position"},{value:"text",selector:"#field-pay_later_"+e+"_message_color"},{value:"flex",selector:"#field-pay_later_"+e+"_message_flex_ratio"},{value:"flex",selector:"#field-pay_later_"+e+"_message_flex_color"}])})},m=function(t){t.forEach(function(t){return e(t,!1,"hide")})},g=function(t,a,n,r,l){var o=document.querySelector(u),c=document.querySelector(t);if(c){var i=c.closest("tr"),s=function(){var t=v(a);if(e(i,t.length>0,"hide"),0===t.length&&(m(r),document.querySelector(".ppcp-empty-smart-button-location")||jQuery(PayPalCommerceSettings.empty_smart_button_location_message).insertAfter(jQuery(d).find(".description"))),c.checked&&("messages"!==l||o.checked)){var s=h(t,l);n.forEach(function(t){e(t,s.includes(t),"hide")}),"messages"===l&&y()}};f(t,n),s(),c.checked&&m(r),c.addEventListener("change",function(t){s(),t.target.checked?m(r):(v(a).length>0&&r.forEach(function(t){return e(t,!0,"hide")}),"messages"===l&&y())}),jQuery(a).on("change",function(){var e=jQuery(".ppcp-empty-smart-button-location");null==e||e.remove(),s(),c.dispatchEvent(new Event("change"))})}},v=function(e){return(a=document.querySelectorAll(e+" :checked"),function(e){if(Array.isArray(e))return t(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,a){if(e){if("string"==typeof e)return t(e,a);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,a):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return e.value});var a},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"messages",a=[];return e.forEach(function(e){a="messages"===t?a.concat(b(e)):a.concat(S(e))}),a},b=function(e){var t=["#field-pay_later_"+e+"_message_layout","#field-pay_later_"+e+"_message_logo","#field-pay_later_"+e+"_message_position","#field-pay_later_"+e+"_message_color","#field-pay_later_"+e+"_message_flex_color","#field-pay_later_"+e+"_message_flex_ratio","#field-pay_later_"+e+"_message_preview"];return"general"!==e&&t.push("#field-pay_later_"+e+"_messaging_heading"),t},S=function(e){var t="checkout"===e?"":"_"+e,a=["#field-button"+t+"_layout","#field-button"+t+"_tagline","#field-button"+t+"_label","#field-button"+t+"_color","#field-button"+t+"_shape","#field-button"+t+"_height","#field-button"+t+"_preview"];return"general"!==e&&a.push("#field-button_"+e+"_heading"),a.filter(function(e){return document.querySelector(e)})};!function(e){var t=document.querySelector('select[name="ppcp[card_icons][]"]');if(t){var a=Array.from(document.querySelectorAll(e+" option")),n={visa:{light:{label:"Visa (light)"},dark:{label:"Visa (dark)",value:"visa-dark"}},mastercard:{light:{label:"Mastercard (light)"},dark:{label:"Mastercard (dark)",value:"mastercard-dark"}}},r=function(){var e=a.filter(function(e){return!e.selected}).map(function(e){var a=(e=e.cloneNode(!0)).value;if(e.selected=t.querySelector('option[value="'+a+'"]')&&t.querySelector('option[value="'+a+'"]').selected,"visa"===a||"mastercard"===a){var r=e.cloneNode(!0),l=n[a],o=n[a].dark.value;return e.text=l.light.label,r.text=l.dark.label,r.value=o,r.selected=t.querySelector('option[value="'+o+'"]')&&t.querySelector('option[value="'+o+'"]').selected,[e,r]}return e}).flat();t.innerHTML="",e.forEach(function(e){Array.isArray(e)&&e.forEach(function(e){t.appendChild(e)}),t.appendChild(e)})};jQuery(e).on("change",r),r()}}('select[name="ppcp[disable_cards][]"]'),f("#ppcp-pay_later_button_enabled",["#field-pay_later_button_locations"]),g("#ppcp-pay_later_enable_styling_per_messaging_location",s,h(o),h(["general"]),"messages"),g("#ppcp-smart_button_enable_styling_per_location",_,h(["product","cart","checkout","mini-cart","cart-block","checkout-block-express"],"buttons"),h(["general"],"buttons"),"buttons"),r=document.querySelector(u),l=document.querySelector("#ppcp-pay_later_enable_styling_per_messaging_location"),f(u,h(c).concat(i,"#field-pay_later_enable_styling_per_messaging_location")),r&&r.addEventListener("change",function(e){e.target.checked&&l.dispatchEvent(new Event("change"))}),a=["#field-paypal_saved_payments","#field-subscriptions_mode","#field-vault_enabled"],(n=function(){var t=v(_),n=t.includes("checkout")||t.includes("checkout-block-express");a.forEach(function(t){e(t,n,"hide")})})(),jQuery(_).on("change",n),f("#ppcp-vault_enabled",["#field-subscription_behavior_when_vault_fails"]),p("#ppcp-intent",[{value:"authorize",selector:"#field-capture_for_virtual_only"},{value:"authorize",selector:"#field-capture_on_status_change"}]),y(),function(){if("undefined"!=typeof PayPalCommerceGatewaySettings&&"1"!==PayPalCommerceGatewaySettings.reference_transaction_enabled){var e,t;null===(e=document.getElementById("ppcp-vault_enabled"))||void 0===e||e.setAttribute("disabled","disabled");var a=null===(t=document.getElementById("field-vault_enabled"))||void 0===t?void 0:t.getElementsByClassName("description")[0];a&&(a.innerHTML=PayPalCommerceGatewaySettings.vaulting_must_enable_advanced_wallet_message)}}()})})();