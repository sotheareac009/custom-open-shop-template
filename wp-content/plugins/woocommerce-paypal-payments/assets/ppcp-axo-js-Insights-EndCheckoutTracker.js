(()=>{"use strict";function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,e(o.key),o)}}function e(n){var e=function(n){if("object"!=t(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var r=e.call(n,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==t(e)?e:e+""}const r=function(){function t(){var n=arguments;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),window.paypalInsightDataLayer=window.paypalInsightDataLayer||[],document.paypalInsight=function(){paypalInsightDataLayer.push(n)}}return e=t,r=[{key:"init",value:function(){return t.instance||(t.instance=new t),t.instance}},{key:"track",value:function(n,e){t.init(),paypalInsight("event",n,e)}},{key:"config",value:function(n,e){t.init(),paypalInsight("config",n,e)}},{key:"setSessionId",value:function(n){t.init(),paypalInsight("set",{session_id:n})}},{key:"trackJsLoad",value:function(){t.track("js_load",{timestamp:Date.now()})}},{key:"trackBeginCheckout",value:function(n){t.track("begin_checkout",n)}},{key:"trackSubmitCheckoutEmail",value:function(n){t.track("submit_checkout_email",n)}},{key:"trackSelectPaymentMethod",value:function(n){t.track("select_payment_method",n)}},{key:"trackEndCheckout",value:function(n){t.track("end_checkout",n)}}],null&&n(e.prototype,null),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function u(e,r,o,i){var u=r&&r.prototype instanceof l?r:l,s=Object.create(u.prototype);return a(s,"_invoke",function(e,r,o){var i,a,u,l=0,s=o||[],f=!1,y={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return i=n,a=0,u=t,y.n=e,c}};function p(e,r){for(a=e,u=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],p=y.p,d=i[2];e>3?(o=d===r)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=e<2&&p<i[1])?(a=0,y.v=r,y.n=i[1]):p<d&&(o=e<3||i[0]>r||r>d)&&(i[4]=e,i[5]=r,y.n=d,a=0))}if(o||e>1)return c;throw f=!0,r}return function(o,s,d){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,d),a=s,u=d;(n=a<2?t:u)||!f;){i||(a?a<3?(a>1&&(y.n=-1),p(a,u)):y.n=u:y.v=u);try{if(l=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(f=y.n<0)?u:e.call(r,y))!==c)break}catch(n){i=t,a=1,u=n}finally{l=1}}return{value:n,done:f}}}(e,o,i),!0),s}var c={};function l(){}function s(){}function f(){}n=Object.getPrototypeOf;var y=[][r]?n(n([][r]())):(a(n={},r,function(){return this}),n),p=f.prototype=l.prototype=Object.create(y);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return s.prototype=f,a(p,"constructor",f),a(f,"constructor",s),s.displayName="GeneratorFunction",a(f,o,"GeneratorFunction"),a(p),a(p,o,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:u,m:d}})()}function a(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,n,e,r){function i(n,e){a(t,n,function(t){return this._invoke(n,e,t)})}n?o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(i("next",0),i("throw",1),i("return",2))},a(t,n,e,r)}function u(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function c(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var n=function(t){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=o(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(n)?n:n+""}var s=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialize()},n=[{key:"initialize",value:(e=i().m(function t(){var n,e,o;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!("1"===(null==(n=window.wc_ppcp_axo_insights_data||{})?void 0:n.enabled)&&null!=n&&n.client_id&&null!=n&&n.session_id&&null!=n&&n.orderTotal&&null!=n&&n.orderCurrency)){t.n=5;break}return t.p=1,t.n=2,this.waitForPayPalInsight();case 2:r.config(null==n?void 0:n.client_id,{debug:"1"===(null==n?void 0:n.wp_debug)}),r.setSessionId(n.session_id),r.trackJsLoad(),e={amount:{currency_code:null==n?void 0:n.orderCurrency,value:null==n?void 0:n.orderTotal},page_type:"checkout",payment_method_selected:(null==n?void 0:n.payment_method_selected_map[null==n?void 0:n.paymentMethod])||"other",user_data:{country:"US",is_store_member:!1},order_id:null==n?void 0:n.orderId},r.trackEndCheckout(e),t.n=4;break;case 3:t.p=3,o=t.v,console.error("EndCheckoutTracker: Error during tracking:",o),console.error("PayPalInsights object:",window.paypalInsight);case 4:t.n=6;break;case 5:console.warn("EndCheckoutTracker: Missing required configuration",{enabled:null==n?void 0:n.enabled,hasClientId:!(null==n||!n.client_id),hasSessionId:!(null==n||!n.session_id),hasOrderTotal:!(null==n||!n.orderTotal),hasOrderCurrency:!(null==n||!n.orderCurrency)});case 6:return t.a(2)}},t,this,[[1,3]])}),o=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(t){u(i,r,o,a,c,"next",t)}function c(t){u(i,r,o,a,c,"throw",t)}a(void 0)})},function(){return o.apply(this,arguments)})},{key:"waitForPayPalInsight",value:function(){return new Promise(function(t,n){if(window.paypalInsight)t(window.paypalInsight);else{var e=setTimeout(function(){r.disconnect(),n(new Error("PayPal Insights script load timeout"))},1e4),r=new MutationObserver(function(){window.paypalInsight&&(r.disconnect(),clearTimeout(e),t(window.paypalInsight))});r.observe(document,{childList:!0,subtree:!0})}})}}],n&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,e,o}();document.addEventListener("DOMContentLoaded",function(){new s})})();