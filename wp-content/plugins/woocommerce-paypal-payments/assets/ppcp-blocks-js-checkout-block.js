(()=>{"use strict";var t={4744:t=>{var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===r}(t)}(t)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(t,e){return!1!==e.clone&&e.isMergeableObject(t)?c((r=t,Array.isArray(r)?[]:{}),t,e):t;var r}function o(t,e,r){return t.concat(e).map(function(t){return n(t,r)})}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function c(t,r,u){(u=u||{}).arrayMerge=u.arrayMerge||o,u.isMergeableObject=u.isMergeableObject||e,u.cloneUnlessOtherwiseSpecified=n;var s=Array.isArray(r);return s===Array.isArray(t)?s?u.arrayMerge(t,r,u):function(t,e,r){var o={};return r.isMergeableObject(t)&&i(t).forEach(function(e){o[e]=n(t[e],r)}),i(e).forEach(function(i){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(a(t,i)&&r.isMergeableObject(e[i])?o[i]=function(t,e){if(!e.customMerge)return c;var r=e.customMerge(t);return"function"==typeof r?r:c}(i,r)(t[i],e[i],r):o[i]=n(e[i],r))}),o}(t,r,u):n(r,u)}c.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,r){return c(t,r,e)},{})};var u=c;t.exports=u}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);const n=window.wc.wcBlocksRegistry,o=window.wp.i18n;var i=function(t){return t.data_client_id.has_subscriptions&&t.data_client_id.paypal_subscriptions_enabled},a=function(t){var e;return!(null==t||null===(e=t.locations_with_subscription_product)||void 0===e||!e.cart)};function c(t,e){void 0===e&&(e={});var r=document.createElement("script");return r.src=t,Object.keys(e).forEach(function(t){r.setAttribute(t,e[t]),"data-csp-nonce"===t&&r.setAttribute("nonce",e["data-csp-nonce"])}),r}function u(t,e){if(void 0===e&&(e=Promise),l(t,e),"undefined"==typeof document)return e.resolve(null);var r=function(t){var e,r,n=t.sdkBaseUrl,o=t.environment,i=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["sdkBaseUrl","environment"]),a=n||function(t){return"sandbox"===t?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}(o),c=i,u=Object.keys(c).filter(function(t){return void 0!==c[t]&&null!==c[t]&&""!==c[t]}).reduce(function(t,e){var r,n=c[e].toString();return r=function(t,e){return(e?"-":"")+t.toLowerCase()},"data"===(e=e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,r)).substring(0,4)||"crossorigin"===e?t.attributes[e]=n:t.queryParams[e]=n,t},{queryParams:{},attributes:{}}),s=u.queryParams,l=u.attributes;return s["merchant-id"]&&-1!==s["merchant-id"].indexOf(",")&&(l["data-merchant-id"]=s["merchant-id"],s["merchant-id"]="*"),{url:"".concat(a,"?").concat((e=s,r="",Object.keys(e).forEach(function(t){0!==r.length&&(r+="&"),r+=t+"="+e[t]}),r)),attributes:l}}(t),n=r.url,o=r.attributes,i=o["data-namespace"]||"paypal",a=s(i);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),function(t,e){var r=document.querySelector('script[src="'.concat(t,'"]'));if(null===r)return null;var n=c(t,e),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(n.dataset).length)return null;var i=!0;return Object.keys(o.dataset).forEach(function(t){o.dataset[t]!==n.dataset[t]&&(i=!1)}),i?r:null}(n,o)&&a?e.resolve(a):function(t,e){void 0===e&&(e=Promise),l(t,e);var r=t.url,n=t.attributes;if("string"!=typeof r||0===r.length)throw new Error("Invalid url.");if(void 0!==n&&"object"!=typeof n)throw new Error("Expected attributes to be an object.");return new e(function(t,e){if("undefined"==typeof document)return t();!function(t){var e=t.onSuccess,r=t.onError,n=c(t.url,t.attributes);n.onerror=r,n.onload=e,document.head.insertBefore(n,document.head.firstElementChild)}({url:r,attributes:n,onSuccess:function(){return t()},onError:function(){var t=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return e(t)}})})}({url:n,attributes:o},e).then(function(){var t=s(i);if(t)return t;throw new Error("The window.".concat(i," global variable is not available."))})}function s(t){return window[t]}function l(t,e){if("object"!=typeof t||null===t)throw new Error("Expected an options object.");var r=t.environment;if(r&&"production"!==r&&"sandbox"!==r)throw new Error('The `environment` option must be either "production" or "sandbox".');if(void 0!==e&&"function"!=typeof e)throw new Error("Expected PromisePonyfill to be a function.")}"function"==typeof SuppressedError&&SuppressedError;const f=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;fetch(e.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({nonce:e.nonce})}).then(function(t){return t.json()}).then(function(o){var i;(function(t,e){return!(!t||t.user!==e||(new Date).getTime()>=1e3*t.expiration)})(o,e.user)&&(i=o,sessionStorage.setItem("ppcp-data-client-id",JSON.stringify(i)),t["data-client-token"]=o.token,u(t).then(function(t){"function"==typeof r&&r(t)}).catch(function(t){"function"==typeof n&&n(t)}))})};function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=v(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var _n=0,n=function(){};return{s:n,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function v(t,e){if(t){if("string"==typeof t)return b(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function h(t){var e=function(t){if("object"!=p(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}var g=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.paypal=null,this.buttons=new Map,this.messages=new Map,this.renderEventName="ppcp-render",document.ppcpWidgetBuilderStatus=function(){console.log({buttons:e.buttons,messages:e.messages})},jQuery(document).off(this.renderEventName).on(this.renderEventName,function(){e.renderAll()})},e=[{key:"setPaypal",value:function(t){this.paypal=t,jQuery(document).trigger("ppcp-paypal-loaded",t)}},{key:"registerButtons",value:function(t,e){t=this.sanitizeWrapper(t),this.buttons.set(this.toKey(t),{wrapper:t,options:e})}},{key:"renderButtons",value:function(t){t=this.sanitizeWrapper(t);var e=this.toKey(t);if(this.buttons.has(e)&&!this.hasRendered(t)){var r=this.buttons.get(e),n=this.paypal.Buttons(r.options);if(n.isEligible()){var o=this.buildWrapperTarget(t);o&&(n.hasReturned()?n.resume():n.render(o))}else this.buttons.delete(e)}}},{key:"renderAllButtons",value:function(){var t,e=y(this.buttons);try{for(e.s();!(t=e.n()).done;){var r=d(t.value,1)[0];this.renderButtons(r)}}catch(t){e.e(t)}finally{e.f()}}},{key:"registerMessages",value:function(t,e){this.messages.set(t,{wrapper:t,options:e})}},{key:"renderMessages",value:function(t){var e=this;if(this.messages.has(t)){var r=this.messages.get(t);if(this.hasRendered(t))document.querySelector(t).setAttribute("data-pp-amount",r.options.amount);else{var n=this.paypal.Messages(r.options);n.render(r.wrapper),setTimeout(function(){e.hasRendered(t)||n.render(r.wrapper)},100)}}}},{key:"renderAllMessages",value:function(){var t,e=y(this.messages);try{for(e.s();!(t=e.n()).done;){var r=d(t.value,2),n=r[0];r[1],this.renderMessages(n)}}catch(t){e.e(t)}finally{e.f()}}},{key:"renderAll",value:function(){this.renderAllButtons(),this.renderAllMessages()}},{key:"hasRendered",value:function(t){var e=t;if(Array.isArray(t)){e=t[0];var r,n=y(t.slice(1));try{for(n.s();!(r=n.n()).done;)e+=" .item-"+r.value}catch(t){n.e(t)}finally{n.f()}}var o=document.querySelector(e);return o&&o.hasChildNodes()}},{key:"sanitizeWrapper",value:function(t){return Array.isArray(t)&&1===(t=t.filter(function(t){return!!t})).length&&(t=t[0]),t}},{key:"buildWrapperTarget",value:function(t){var e=t;if(Array.isArray(t)){var r=jQuery(t[0]);if(!r.length)return;var n="item-"+t[1],o=r.find("."+n);o.length||(o=jQuery('<div class="'.concat(n,'"></div>')),r.append(o)),e=o.get(0)}return jQuery(e).length?e:null}},{key:"toKey",value:function(t){return Array.isArray(t)?JSON.stringify(t):t}}],e&&m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();window.widgetBuilder=window.widgetBuilder||new g;const w=window.widgetBuilder;var S=r(4744),O=r.n(S),j=function(t){return t.replace(/([-_]\w)/g,function(t){return t[1].toUpperCase()})},_=function(t){var e=function(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[j(r)]=t[r]);return e}(t.url_params);t.script_attributes&&(e=O()(e,t.script_attributes));var r=function(t){var e,r,n=null==t||null===(e=t.save_payment_methods)||void 0===e?void 0:e.id_token;return n&&!0===(null==t||null===(r=t.user)||void 0===r?void 0:r.is_logged)?{"data-user-id-token":n}:{}}(t);return O().all([e,r])};function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach(function(e){A(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function A(t,e,r){return(e=function(t){var e=function(t){if("object"!=P(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==P(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,s=Object.create(u.prototype);return D(s,"_invoke",function(r,n,o){var i,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return i=e,c=0,u=t,p.n=r,a}};function d(r,n){for(c=r,u=n,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(p.n=-1),d(c,u)):p.n=u:p.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(r,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(D(e={},n,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,D(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,D(f,"constructor",s),D(s,"constructor",u),u.displayName="GeneratorFunction",D(s,o,"GeneratorFunction"),D(f),D(f,o,"Generator"),D(f,n,function(){return this}),D(f,"toString",function(){return"[object Generator]"}),(T=function(){return{w:i,m:p}})()}function D(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}D=function(t,e,r,n){function i(e,r){D(t,e,function(t){return this._invoke(e,r,t)})}e?o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(i("next",0),i("throw",1),i("return",2))},D(t,e,r,n)}function R(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function x(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){R(i,n,o,a,c,"next",t)}function c(t){R(i,n,o,a,c,"throw",t)}a(void 0)})}}var I=new Map,C=new Map,N=function(){var t=x(T().m(function t(e,r){var n;return T().w(function(t){for(;;)switch(t.n){case 0:if(null===(n=r.data_client_id)||void 0===n||!n.set_attribute||!0===r.vault_v3_enabled){t.n=1;break}return t.a(2,new Promise(function(t,n){f(e,r.data_client_id,function(e){w.setPaypal(e),t(e)},n)}));case 1:return t.a(2,null)}},t)}));return function(_x,e){return t.apply(this,arguments)}}(),M=function(){var t=x(T().m(function t(e,r){var n,o,i;return T().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}throw new Error("Namespace is required");case 1:if(!I.has(e)){t.n=2;break}return console.log("Script already loaded for namespace: ".concat(e)),t.a(2,I.get(e));case 2:if(!C.has(e)){t.n=3;break}return console.log("Script loading in progress for namespace: ".concat(e)),t.a(2,C.get(e));case 3:return n=k(k({},_(r)),{},{"data-namespace":e}),t.n=4,N(n,r);case 4:if(!(o=t.v)){t.n=5;break}return t.a(2,o);case 5:return i=new Promise(function(t,r){u(n).then(function(r){w.setPaypal(r),I.set(e,r),console.log("Script loaded for namespace: ".concat(e)),t(r)}).catch(function(t){console.error("Failed to load script for namespace: ".concat(e),t),r(t)}).finally(function(){C.delete(e)})}),C.set(e,i),t.a(2,i)}},t)}));return function(e,r){return t.apply(this,arguments)}}(),B=function(t,e,r){jQuery(document).trigger("ppcp-shown",{handler:t,action:"show",selector:e,element:r})},F=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(t){return"string"==typeof t?document.querySelector(t):t}(t);if(n){var o=n.style.getPropertyValue("display");if(e)"none"===o&&(n.style.removeProperty("display"),B("Hiding.setVisible",t,n)),function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}(n)||(n.style.setProperty("display","block"),B("Hiding.setVisible",t,n));else{if("none"===o)return;n.style.setProperty("display","none",r?"important":""),function(t,e,r){jQuery(document).trigger("ppcp-hidden",{handler:t,action:"hide",selector:e,element:r})}("Hiding.setVisible",t,n)}}};function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q(n.key),n)}}function q(t){var e=function(t){if("object"!=G(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==G(e)?e:e+""}var U=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this.optionsFingerprint=null,this.currentNumber=0},(e=[{key:"renderWithAmount",value:function(t){if(this.shouldRender()){var e={amount:t};if(this.config.placement&&(e.placement=this.config.placement),this.config.style&&(e.style=this.config.style),document.querySelector(this.config.wrapper).getAttribute("data-render-number")!==this.currentNumber.toString()&&(this.optionsFingerprint=null),!this.optionsEqual(e)){var r=document.querySelector(this.config.wrapper);this.currentNumber++,r.setAttribute("data-render-number",this.currentNumber),w.registerMessages(this.config.wrapper,e),w.renderMessages(this.config.wrapper)}}}},{key:"optionsEqual",value:function(t){var e=JSON.stringify(t);return this.optionsFingerprint===e||(this.optionsFingerprint=e,!1)}},{key:"shouldRender",value:function(){return"undefined"!=typeof paypal&&void 0!==paypal.Messages&&void 0!==this.config.wrapper&&!!document.querySelector(this.config.wrapper)}}])&&L(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const J=U;function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function H(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,s=Object.create(u.prototype);return Q(s,"_invoke",function(r,n,o){var i,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return i=e,c=0,u=t,p.n=r,a}};function d(r,n){for(c=r,u=n,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(p.n=-1),d(c,u)):p.n=u:p.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(r,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Q(e={},n,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Q(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Q(f,"constructor",s),Q(s,"constructor",u),u.displayName="GeneratorFunction",Q(s,o,"GeneratorFunction"),Q(f),Q(f,o,"Generator"),Q(f,n,function(){return this}),Q(f,"toString",function(){return"[object Generator]"}),(H=function(){return{w:i,m:p}})()}function Q(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Q=function(t,e,r,n){function i(e,r){Q(t,e,function(t){return this._invoke(e,r,t)})}e?o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(i("next",0),i("throw",1),i("return",2))},Q(t,e,r,n)}function V(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function K(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$(n.key),n)}}function $(t){var e=function(t){if("object"!=W(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==W(e)?e:e+""}var z=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gateway=e,this.renderers=[],this.lastAmount=this.gateway.messages.amount,r&&this.renderers.push(r)},e=[{key:"init",value:(r=H().m(function t(){var e,r=this;return H().w(function(t){for(;;)switch(t.n){case 0:if(null===(e=this.gateway.messages)||void 0===e||null===(e=e.block)||void 0===e||!e.enabled){t.n=1;break}return t.n=1,this.attemptDiscoverBlocks(3);case 1:jQuery(document.body).on("ppcp_cart_rendered ppcp_checkout_rendered",function(){r.render()}),jQuery(document.body).on("ppcp_script_data_changed",function(t,e){r.gateway=e,r.render()}),jQuery(document.body).on("ppcp_cart_total_updated ppcp_checkout_total_updated ppcp_product_total_updated ppcp_block_cart_total_updated",function(t,e){r.lastAmount!==e&&(r.lastAmount=e,r.render())}),this.render();case 2:return t.a(2)}},t,this)}),n=function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function a(t){V(i,n,o,a,c,"next",t)}function c(t){V(i,n,o,a,c,"throw",t)}a(void 0)})},function(){return n.apply(this,arguments)})},{key:"attemptDiscoverBlocks",value:function(t){var e=this;return new Promise(function(r,n){e.discoverBlocks().then(function(n){!n&&t>0?setTimeout(function(){e.attemptDiscoverBlocks(t-1).then(r)},2e3):r()})})}},{key:"discoverBlocks",value:function(){var t=this;return new Promise(function(e){var r=document.querySelectorAll(".ppcp-messages");0!==r.length?(Array.from(r).forEach(function(e){e.id||(e.id="ppcp-message-".concat(Math.random().toString(36).substr(2,9)));var r={wrapper:"#"+e.id};e.getAttribute("data-pp-placement")||(r.placement=t.gateway.messages.placement),t.renderers.push(new J(r))}),e(!0)):e(!1)})}},{key:"shouldShow",value:function(t){if(!0===this.gateway.messages.is_hidden)return!1;var e={result:!0};return jQuery(document.body).trigger("ppcp_should_show_messages",[e,t.config.wrapper]),e.result}},{key:"render",value:function(){var t=this;this.renderers.forEach(function(e){var r=t.shouldShow(e);r&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise(function(n,o){var i=setTimeout(function(){clearInterval(c),o('Element "'.concat(t,'" not found within ').concat(e,"ms"))},e),a=document.querySelector(t);if(a)return clearTimeout(i),void n(a);var c=setInterval(function(){var e=document.querySelector(t);e&&(clearTimeout(i),clearInterval(c),n(e))},r)})}(e.config.wrapper).then(function(){F(e.config.wrapper,r),e.renderWithAmount(t.lastAmount)}).catch(function(){})})}}],e&&K(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n}();const Z=z;function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tt(n.key),n)}}function tt(t){var e=function(t){if("object"!=X(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==X(e)?e:e+""}var et=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.messagesBootstrap=new Z(e,null),this.lastCartTotal=null},e=[{key:"init",value:function(){var t,e,r,n,o,i,a=this;this.messagesBootstrap.init(),this._updateCartTotal(),null!==(t=wp.data)&&void 0!==t&&t.subscribe&&wp.data.subscribe((e=function(){a._updateCartTotal()},r={timeoutId:null,args:null},o=function(){r.timeoutId&&(e.apply(null,r.args||[]),n())},i=function(){n();for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.args=e,r.timeoutId=window.setTimeout(o,300)},i.cancel=n=function(){r.timeoutId&&window.clearTimeout(r.timeoutId),r.timeoutId=null,r.args=null},i.flush=o,i))}},{key:"_getCartTotal",value:function(){if(!wp.data.select)return null;var t=wp.data.select("wc/store/cart");if(!t)return null;var e=t.getCartTotals();return parseInt(e.total_price,10)/Math.pow(10,e.currency_minor_unit)}},{key:"_updateCartTotal",value:function(){var t=this._getCartTotal();null!==t&&t!==this.lastCartTotal&&(this.lastCartTotal=t,jQuery(document.body).trigger("ppcp_block_cart_total_updated",[t]))}}],e&&Y(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const rt=et,nt=window.wp.element;function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function at(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?it(Object(r),!0).forEach(function(e){ct(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ct(t,e,r){return(e=function(t){var e=function(t){if("object"!=ot(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ot(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ut(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return st(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var lt=function(t){var e={country_code:"country",address_line_1:"address_1",address_line_2:"address_2",admin_area_1:"state",admin_area_2:"city",postal_code:"postcode"};null!=t&&t.city&&(e={country_code:"country",state:"state",city:"city",postal_code:"postcode"});var r={};return Object.entries(e).forEach(function(e){var n=ut(e,2),o=n[0],i=n[1];null!=t&&t[o]&&(r[i]=t[o])}),at(at({},{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""}),r)},ft=function(t){var e,r,n,o,i,a,c=null!==(e=null==t||null===(r=t.name)||void 0===r?void 0:r.given_name)&&void 0!==e?e:"",u=null!==(n=null==t||null===(o=t.name)||void 0===o?void 0:o.surname)&&void 0!==n?n:"",s=null!==(i=null==t||null===(a=t.phone)||void 0===a||null===(a=a.phone_number)||void 0===a?void 0:a.national_number)&&void 0!==i?i:"";return at(at({},t.address?lt(t.address):{}),{},{first_name:c,last_name:u,email:t.email_address,phone:s})},pt=function(t){var e=function(t){var e,r=null==t||null===(e=t.purchase_units)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.shipping;if(!r)return{};var n=function(t){var e=t.name?function(t){if(!(t=t.trim()).includes(" "))return[t,""];var e=t.split(" "),r=e[0];return e.shift(),[r,e.join(" ")]}(t.name.full_name):["",""],r=ut(e,2),n=r[0],o=r[1];return at(at({},lt(t.address)),{},{first_name:n,last_name:o})}(r);if(t.payer){var o=ft(t.payer);"".concat(n.first_name," ").concat(n.last_name)==="".concat(o.first_name," ").concat(o.last_name)&&(n.first_name=o.first_name,n.last_name=o.last_name)}return n}(t),r=e;if(null!=t&&t.payer&&!(r=ft(t.payer)).address_line_1){var n=Object.fromEntries(Object.entries(r).filter(function(t){var e=ut(t,2),r=e[0];return""!==e[1]&&"country"!==r}));r=at(at({},e),n)}return{billingAddress:r,shippingAddress:e}},dt=function(t){var e,r,n,o,i,a,c,u=(a=null!==(r=null==(e=t.subscriber)||null===(n=e.name)||void 0===n?void 0:n.given_name)&&void 0!==r?r:"",c=null!==(o=null==e||null===(i=e.name)||void 0===i?void 0:i.surname)&&void 0!==o?o:"",at(at({},e.address?lt(e.shipping_address.address):{}),{},{first_name:a,last_name:c,email:e.email_address}));return{billingAddress:u,shippingAddress:u}},yt=function(t,e){if("billingAddress"in t)return{billingAddress:yt(t.billingAddress,e.billingAddress),shippingAddress:yt(t.shippingAddress,e.shippingAddress)};var r=at({},e);return Object.keys(e).forEach(function(t){""===e[t]&&delete r[t]}),at(at({},t),r)},vt=function(t){var e={};return Object.keys(t).forEach(function(r){var n=r.replace(/[\w]([A-Z])/g,function(t){return t[0]+"_"+t[1]}).toLowerCase();e[n]=t[r]}),e};function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gt(n.key),n)}}function gt(t){var e=function(t){if("object"!=bt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==bt(e)?e:e+""}var wt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.contextBootstrapRegistry={},this.contextBootstrapWatchers=[]},e=[{key:"watchContextBootstrap",value:function(t){this.contextBootstrapWatchers.push(t),Object.values(this.contextBootstrapRegistry).forEach(t)}},{key:"registerContextBootstrap",value:function(t,e){this.contextBootstrapRegistry[t]={context:t,handler:e};var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return mt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var _n=0,n=function(){};return{s:n,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(this.contextBootstrapWatchers);try{for(n.s();!(r=n.n()).done;)(0,r.value)(this.contextBootstrapRegistry[t])}catch(t){n.e(t)}finally{n.f()}}}],e&&ht(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();window.ppcpResources=window.ppcpResources||{};const St=window.ppcpResources.ButtonModuleWatcher=window.ppcpResources.ButtonModuleWatcher||new wt;function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function jt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _t(t,e,r){return(e=function(t){var e=function(t){if("object"!=Ot(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ot(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pt=function(t,e){var r={};switch(["shape","height"].forEach(function(e){t[e]&&(r[e]=t[e])}),e){case"paypal":return t;case"paylater":return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(r),!0).forEach(function(e){_t(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({color:t.color},r);default:return r}};function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function kt(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,s=Object.create(u.prototype);return At(s,"_invoke",function(r,n,o){var i,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return i=e,c=0,u=t,p.n=r,a}};function d(r,n){for(c=r,u=n,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(p.n=-1),d(c,u)):p.n=u:p.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(r,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(At(e={},n,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,At(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,At(f,"constructor",s),At(s,"constructor",u),u.displayName="GeneratorFunction",At(s,o,"GeneratorFunction"),At(f),At(f,o,"Generator"),At(f,n,function(){return this}),At(f,"toString",function(){return"[object Generator]"}),(kt=function(){return{w:i,m:p}})()}function At(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}At=function(t,e,r,n){function i(e,r){At(t,e,function(t){return this._invoke(e,r,t)})}e?o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(i("next",0),i("throw",1),i("return",2))},At(t,e,r,n)}function Tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(r),!0).forEach(function(e){Rt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Rt(t,e,r){return(e=function(t){var e=function(t){if("object"!=Et(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Et(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function It(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){xt(i,n,o,a,c,"next",t)}function c(t){xt(i,n,o,a,c,"throw",t)}a(void 0)})}}var Ct=function(){var t=It(kt().m(function t(e,r,n,o){var i,a,c,u,s,l,f;return kt().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,a=Dt({nonce:r.scriptData.ajax.create_order.nonce,bn_code:"",context:r.scriptData.context,payment_method:"ppcp-gateway",funding_source:null!==(i=window.ppcpFundingSource)&&void 0!==i?i:"paypal",createaccount:!1},(null==e?void 0:e.paymentSource)&&{payment_source:e.paymentSource}),t.n=1,fetch(r.scriptData.ajax.create_order.endpoint,{method:"POST",credentials:"same-origin",body:JSON.stringify(a)});case 1:return c=t.v,t.n=2,c.json();case 2:if((u=t.v).success){t.n=5;break}if(!((null===(s=u.data)||void 0===s||null===(s=s.details)||void 0===s?void 0:s.length)>0)){t.n=3;break}throw new Error(u.data.details.map(function(t){return"".concat(t.issue," ").concat(t.description)}).join("<br/>"));case 3:if(null===(l=u.data)||void 0===l||!l.message){t.n=4;break}throw new Error(u.data.message);case 4:throw new Error(r.scriptData.labels.error.generic);case 5:return t.a(2,u.data.id);case 6:throw t.p=6,f=t.v,console.error(f),n(f.message),o(),f;case 7:return t.a(2)}},t,null,[[0,6]])}));return function(_x,e,r,n){return t.apply(this,arguments)}}(),Nt=function(){var t=It(kt().m(function t(e,r,n,o,i,a,c,u,s,l,f,p,d){var y,v,b,m,h,g,w,S,O,j,_,P;return kt().w(function(t){for(;;)switch(t.p=t.n){case 0:if(d(!0),t.p=1,ue(n)){t.n=3;break}return t.n=2,r.order.get();case 2:b=t.v,t.n=7;break;case 3:return t.n=4,fetch(n.scriptData.ajax.get_order.endpoint,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({nonce:n.scriptData.ajax.get_order.nonce,order_id:e.orderID})});case 4:return m=t.v,t.n=5,m.json();case 5:if((h=t.v).success){t.n=6;break}throw new Error((null===(g=h.data)||void 0===g?void 0:g.message)||n.scriptData.labels.error.generic);case 6:b=h.data;case 7:if(!(null===(y=b)||void 0===y||null===(y=y.purchase_units)||void 0===y||null===(y=y[0])||void 0===y||null===(y=y.shipping)||void 0===y?void 0:y.address)){t.n=8;break}return w=pt(b),S=[wp.data.dispatch("wc/store/cart").updateCustomerData({billing_address:w.billingAddress,shipping_address:w.shippingAddress})],o()&&(S.push(wp.data.dispatch("wc/store/cart").setBillingAddress(w.billingAddress)),i.needsShipping&&S.push(wp.data.dispatch("wc/store/cart").setShippingAddress(w.shippingAddress))),t.n=8,Promise.all(S);case 8:return a(b),t.n=9,fetch(n.scriptData.ajax.approve_order.endpoint,{method:"POST",credentials:"same-origin",body:JSON.stringify({nonce:n.scriptData.ajax.approve_order.nonce,order_id:e.orderID,funding_source:null!==(v=window.ppcpFundingSource)&&void 0!==v?v:"paypal"})});case 9:return O=t.v,t.n=10,O.json();case 10:if((j=t.v).success){t.n=13;break}if(void 0===r||void 0===r.restart){t.n=11;break}return t.a(2,r.restart());case 11:if(null===(_=j.data)||void 0===_||!_.message){t.n=12;break}throw new Error(j.data.message);case 12:throw new Error(n.scriptData.labels.error.generic);case 13:c()?(s(!0),l()):location.href=u(),t.n=15;break;case 14:throw t.p=14,P=t.v,console.error(P),d(!1),f(P.message),p(),P;case 15:return t.a(2)}},t,null,[[1,14]])}));return function(e,r,n,o,i,a,c,u,s,l,f,p,d){return t.apply(this,arguments)}}(),Mt=function(){var t=It(kt().m(function t(e,r,n){var o;return kt().w(function(t){for(;;)if(0===t.n)return o=n.scriptData.subscription_plan_id,""!==n.scriptData.variable_paypal_subscription_variation_from_cart&&(o=n.scriptData.variable_paypal_subscription_variation_from_cart),t.a(2,r.subscription.create({plan_id:o}))},t)}));return function(e,r,n){return t.apply(this,arguments)}}(),Bt=function(){var t=It(kt().m(function t(e,r,n,o,i,a,c,u,s,l,f,p){var d,y,v,b,m,h,g;return kt().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,r.subscription.get();case 1:if(!(d=t.v)){t.n=2;break}return y=dt(d),v=[wp.data.dispatch("wc/store/cart").updateCustomerData({billing_address:y.billingAddress,shipping_address:y.shippingAddress})],o()&&(v.push(wp.data.dispatch("wc/store/cart").setBillingAddress(y.billingAddress)),i.needsShipping&&v.push(wp.data.dispatch("wc/store/cart").setShippingAddress(y.shippingAddress))),t.n=2,Promise.all(v);case 2:return a(d),t.n=3,fetch(n.scriptData.ajax.approve_subscription.endpoint,{method:"POST",credentials:"same-origin",body:JSON.stringify({nonce:n.scriptData.ajax.approve_subscription.nonce,order_id:e.orderID,subscription_id:e.subscriptionID})});case 3:return b=t.v,t.n=4,b.json();case 4:if((m=t.v).success){t.n=7;break}if(void 0===r||void 0===r.restart){t.n=5;break}return t.a(2,r.restart());case 5:if(null===(h=m.data)||void 0===h||!h.message){t.n=6;break}throw new Error(m.data.message);case 6:throw new Error(n.scriptData.labels.error.generic);case 7:c()?(s(!0),l()):location.href=u(),t.n=9;break;case 8:throw t.p=8,g=t.v,console.error(g),f(g.message),p(),g;case 9:return t.a(2)}},t,null,[[0,8]])}));return function(e,r,n,o,i,a,c,u,s,l,f,p){return t.apply(this,arguments)}}(),Ft=function(){var t=It(kt().m(function t(e){return kt().w(function(t){for(;;)if(0===t.n)return t.a(2,fetch(e.scriptData.ajax.create_setup_token.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nonce:e.scriptData.ajax.create_setup_token.nonce,payment_method:"ppcp-gateway"})}).then(function(t){return t.json()}).then(function(t){return t.data.id}).catch(function(t){console.error(t)}))},t)}));return function(e){return t.apply(this,arguments)}}(),Gt=function(){var t=It(kt().m(function t(e,r,n){var o,i,a,c;return kt().w(function(t){for(;;)switch(t.n){case 0:return o=r.scriptData.ajax.create_payment_token_for_guest.endpoint,i={nonce:r.scriptData.ajax.create_payment_token_for_guest.nonce,vault_setup_token:e},r.scriptData.user.is_logged_in&&(o=r.scriptData.ajax.create_payment_token.endpoint,i={nonce:r.scriptData.ajax.create_payment_token.nonce,vault_setup_token:e,is_free_trial_cart:r.scriptData.is_free_trial_cart}),t.n=1,fetch(o,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 1:return a=t.v,t.n=2,a.json();case 2:!0===(c=t.v).success&&n(),console.error(c);case 3:return t.a(2)}},t)}));return function(e,r,n){return t.apply(this,arguments)}}();const Lt=window.React;var qt=r.n(Lt);function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function Jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wt(n.key),n)}}function Wt(t){var e=function(t){if("object"!=Ut(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ut(e)?e:e+""}var Ht=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"form.woocommerce-checkout";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=e}return e=t,n=[{key:"fullPage",value:function(){return new t(window)}}],(r=[{key:"setTarget",value:function(t){this.target=t}},{key:"block",value:function(){jQuery(this.target).block({message:null,overlayCSS:{background:"#fff",opacity:.6},baseZ:1e4})}},{key:"unblock",value:function(){jQuery(this.target).unblock()}}])&&Jt(e.prototype,r),n&&Jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();const Qt=Ht;function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(r),!0).forEach(function(e){zt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function zt(t,e,r){return(e=function(t){var e=function(t){if("object"!=Vt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Vt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zt(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,s=Object.create(u.prototype);return Xt(s,"_invoke",function(r,n,o){var i,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return i=e,c=0,u=t,p.n=r,a}};function d(r,n){for(c=r,u=n,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(p.n=-1),d(c,u)):p.n=u:p.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(r,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Xt(e={},n,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Xt(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Xt(f,"constructor",s),Xt(s,"constructor",u),u.displayName="GeneratorFunction",Xt(s,o,"GeneratorFunction"),Xt(f),Xt(f,o,"Generator"),Xt(f,n,function(){return this}),Xt(f,"toString",function(){return"[object Generator]"}),(Zt=function(){return{w:i,m:p}})()}function Xt(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Xt=function(t,e,r,n){function i(e,r){Xt(t,e,function(t){return this._invoke(e,r,t)})}e?o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(i("next",0),i("throw",1),i("return",2))},Xt(t,e,r,n)}function Yt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function te(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){Yt(i,n,o,a,c,"next",t)}function c(t){Yt(i,n,o,a,c,"throw",t)}a(void 0)})}}function ee(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return re(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ne,oe,ie,ae=!1,ce=null,ue=function(t){return t.scriptData.appswitch.enabled&&!t.scriptData.final_review_enabled&&t.scriptData.server_side_shipping_callback.enabled},se=function(t){var e=t.config,r=t.onClick,n=t.onClose,o=t.onSubmit,c=t.onError,u=t.eventRegistration,s=t.emitResponse,l=t.activePaymentMethod,f=t.shippingData,p=t.isEditing,d=t.fundingSource,y=t.buttonAttributes,v=u.onPaymentSetup,b=u.onCheckoutFail,m=u.onCheckoutValidation,h=s.responseTypes,g=ee((0,nt.useState)(null),2),w=g[0],S=g[1],O=ee((0,nt.useState)(!1),2),j=O[0],_=O[1],P=ee((0,nt.useState)(!1),2),E=P[0],k=P[1],A=ee((0,nt.useState)(!1),2),T=A[0],D=A[1],R=ee((0,nt.useState)(!1),2),x=R[0],I=R[1],C=(0,Lt.useRef)(null),N=(0,Lt.useRef)(null);T||(ce||(ce=M("ppcpBlocksPaypalExpressButtons",e.scriptData)),ce.then(function(){return D(!0)}));var B=d?"".concat(e.id,"-").concat(d):e.id;(0,nt.useEffect)(function(){x?(N.current||(N.current=Qt.fullPage()),N.current.block()):N.current&&N.current.unblock()},[x]),(0,nt.useEffect)(function(){var t;if(!j&&null!==(t=e.scriptData.continuation)&&void 0!==t&&t.order){try{var r=pt(e.scriptData.continuation.order),n=wp.data.select("wc/store/cart").getCustomerData(),o=yt(n,r);wp.data.dispatch("wc/store/cart").setBillingAddress(o.billingAddress),f.needsShipping&&wp.data.dispatch("wc/store/cart").setShippingAddress(o.shippingAddress)}catch(t){console.error(t)}_(!0)}},[f.needsShipping,j]);var F=function(){var t=new URL(e.scriptData.redirect);return t.searchParams.append("ppcp-continuation-redirect",(new Date).getTime().toString()),t.toString()};(0,nt.useEffect)(function(){return m(function(){return!!e.scriptData.continuation||!E||!wp.data.select("wc/store/validation").hasValidationErrors()||(location.href=F(),{type:h.ERROR})})},[m,E]);var G=function(t,e){if(p)return e.reject();window.ppcpFundingSource=t.fundingSource,r()},L=function(){ue(e)||n()},q=function(){return U()&&e.needShipping},U=function(){return!(e.finalReviewEnabled||"venmo"===window.ppcpFundingSource&&e.scriptData.vaultingEnabled)},J=null,W=null;if(f.needsShipping&&q()&&(J=function(){var t=te(Zt().m(function t(r,n){var o,i,a,c,u;return Zt().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,!(i=null===(o=r.selectedShippingOption)||void 0===o?void 0:o.id)){t.n=2;break}return t.n=1,wp.data.dispatch("wc/store/cart").selectShippingRate(i);case 1:return t.n=2,f.setSelectedRates(i);case 2:return t.n=3,fetch(e.ajax.update_shipping.endpoint,{method:"POST",credentials:"same-origin",body:JSON.stringify({nonce:e.ajax.update_shipping.nonce,order_id:r.orderID})});case 3:return a=t.v,t.n=4,a.json();case 4:if((c=t.v).success){t.n=5;break}throw new Error(c.data.message);case 5:t.n=7;break;case 6:t.p=6,u=t.v,console.error(u),n.reject();case 7:return t.a(2)}},t,null,[[0,6]])}));return function(_x,e){return t.apply(this,arguments)}}(),W=function(){var t=te(Zt().m(function t(r,n){var o,i,a,c;return Zt().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,o=lt(vt(r.shippingAddress)),t.n=1,wp.data.dispatch("wc/store/cart").updateCustomerData({shipping_address:o});case 1:return t.n=2,f.setShippingAddress(o);case 2:return t.n=3,fetch(e.ajax.update_shipping.endpoint,{method:"POST",credentials:"same-origin",body:JSON.stringify({nonce:e.ajax.update_shipping.nonce,order_id:r.orderID})});case 3:return i=t.v,t.n=4,i.json();case 4:if((a=t.v).success){t.n=5;break}throw new Error(a.data.message);case 5:t.n=7;break;case 6:t.p=6,c=t.v,console.error(c),n.reject();case 7:return t.a(2)}},t,null,[[0,6]])}));return function(e,r){return t.apply(this,arguments)}}()),(0,nt.useEffect)(function(){if(l===B){var t=v(function(){var t,r,n;if(a(e.scriptData)&&e.scriptData.is_free_trial_cart)return{type:h.SUCCESS};if(e.scriptData.continuation)return{type:h.SUCCESS,meta:{paymentMethodData:{paypal_order_id:e.scriptData.continuation.order_id,funding_source:null!==(n=window.ppcpFundingSource)&&void 0!==n?n:"paypal"}}};var o={};return null!==(t=w.purchase_units)&&void 0!==t&&null!==(t=t[0])&&void 0!==t&&null!==(t=t.shipping)&&void 0!==t&&t.address&&(o=pt(w)),{type:h.SUCCESS,meta:$t({paymentMethodData:{paypal_order_id:w.id,funding_source:null!==(r=window.ppcpFundingSource)&&void 0!==r?r:"paypal"}},o)}});return function(){t()}}},[v,w,l]),(0,nt.useEffect)(function(){return b(function(){I(!1)})},[b]),(0,nt.useEffect)(function(){if(l===B)return b(function(t){var r=t.processingResponse;return console.error(r),n&&n(),e.scriptData.continuation||a(e.scriptData)&&e.scriptData.is_free_trial_cart||U()&&(location.href=F()),!0})},[b,n,l]),e.scriptData.continuation)return React.createElement("div",{dangerouslySetInnerHTML:{__html:e.scriptData.continuation.cancel.html}});ae||(St.registerContextBootstrap(e.scriptData.context,{createOrder:function(t){return Ct(t,e,c,n)},onApprove:function(t,r){return Nt(t,r,e,q,f,S,U,F,k,o,c,n,I)}}),ae=!0);var H=Pt(e.scriptData.button.style,d);if(void 0!==y&&(H.height=null!=y&&y.height?Number(y.height):H.height,H.borderRadius=null!=y&&y.borderRadius?Number(y.borderRadius):H.borderRadius),!T)return null;var Q=ppcpBlocksPaypalExpressButtons.Buttons.driver("react",{React,ReactDOM}),V=function(t){return e.scriptData.server_side_shipping_callback.enabled||"venmo"===t?null:function(t,e){q()&&J(t,e)}},K=function(t){return e.scriptData.server_side_shipping_callback.enabled||"venmo"===t?null:function(t,e){return q()?W(t,e):null}};return a(e.scriptData)&&e.scriptData.is_free_trial_cart?React.createElement(Q,{style:H,onClick:G,onCancel:L,onError:n,createVaultSetupToken:function(){return Ft(e)},onApprove:function(t){var r=t.vaultSetupToken;return Gt(r,e,o)}}):i(e.scriptData)?React.createElement(Q,{fundingSource:d,style:H,onClick:G,onCancel:L,onError:n,createSubscription:function(t,r){return Mt(t,r,e)},onApprove:function(t,r){return Bt(t,r,e,q,f,S,U,F,k,o,c,n)},onShippingOptionsChange:V(d),onShippingAddressChange:K(d)}):React.createElement(Q,{ref:C,appSwitchWhenAvailable:ue(e),fundingSource:d,style:H,onInit:function(){if("paypal"===d){var t,e,r=null===(t=C.current)||void 0===t||null===(t=t.state)||void 0===t?void 0:t.parent;null!=r&&null!==(e=r.hasReturned)&&void 0!==e&&e.call(r)&&r.resume()}},onClick:G,onCancel:L,onError:n,createOrder:function(t){return Ct(t,e,c,n)},onApprove:function(t,r){return Nt(t,r,e,q,f,S,U,F,k,o,c,n,I)},onShippingOptionsChange:V(d),onShippingAddressChange:K(d)})};!function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"}(ne||(ne={})),function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"}(oe||(oe={})),function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"}(ie||(ie={}));var le=function(){return le=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},le.apply(this,arguments)};function fe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function pe(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var de="data-react-paypal-script-id",ye="react-paypal-js",ve="dataNamespace",be="dataSdkIntegrationSource",me="3.117.0",he=("https://js.braintreegateway.com/web/".concat(me,"/js/client.min.js"),"https://js.braintreegateway.com/web/".concat(me,"/js/paypal-checkout.min.js"),"paypal");function ge(t){return void 0===t&&(t=he),window[t]}function we(t){var e=t.reactComponentName,r=t.sdkComponentKey,n=t.sdkRequestedComponents,o=void 0===n?"":n,i=t.sdkDataNamespace,a=void 0===i?he:i,c=r.charAt(0).toUpperCase().concat(r.substring(1)),u="Unable to render <".concat(e," /> because window.").concat(a,".").concat(c," is undefined."),s="string"==typeof o?o:o.join(",");if(!s.includes(r)){var l=[s,r].filter(Boolean).join();u+="\nTo fix the issue, add '".concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(l,"'}}>`.")}return u}function Se(t){var e=t,r=de;e[r];var n=fe(e,[r+""]);return"react-paypal-js-".concat(function(t){for(var e="",r=0;r<t.length;r++){var n=t[r].charCodeAt(0)*r;t[r+1]&&(n+=t[r+1].charCodeAt(0)*(r-1)),e+=String.fromCharCode(97+Math.abs(n)%26)}return e}(JSON.stringify(n)))}function Oe(t,e){var r,n,o,i;switch(e.type){case oe.LOADING_STATUS:return"object"==typeof e.value?le(le({},t),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):le(le({},t),{loadingStatus:e.value});case oe.RESET_OPTIONS:return o=t.options[de],(null==(i=self.document.querySelector("script[".concat(de,'="').concat(o,'"]')))?void 0:i.parentNode)&&i.parentNode.removeChild(i),le(le({},t),{loadingStatus:ne.PENDING,options:le(le((r={},r[be]=ye,r),e.value),(n={},n[de]="".concat(Se(e.value)),n))});case oe.SET_BRAINTREE_INSTANCE:return le(le({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var je=(0,Lt.createContext)(null);function _e(){var t=function(t){if("function"==typeof(null==t?void 0:t.dispatch)&&0!==t.dispatch.length)return t;throw new Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}((0,Lt.useContext)(je));return[le(le({},t),{isInitial:t.loadingStatus===ne.INITIAL,isPending:t.loadingStatus===ne.PENDING,isResolved:t.loadingStatus===ne.RESOLVED,isRejected:t.loadingStatus===ne.REJECTED}),t.dispatch]}(0,Lt.createContext)({});var Pe=function(t){var e,r,n,o=t.className,i=void 0===o?"":o,a=t.disabled,c=void 0!==a&&a,u=t.children,s=t.forceReRender,l=void 0===s?[]:s,f=fe(t,["className","disabled","children","forceReRender"]),p=c?{opacity:.38}:{},d="".concat(i," ").concat(c?"paypal-buttons-disabled":"").trim(),y=(0,Lt.useRef)(null),v=(0,Lt.useRef)(null),b=(r=f,n=(0,Lt.useRef)(new Proxy({},{get:function(t,e,r){return"function"==typeof t[e]?function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t[e].apply(t,r)}:Reflect.get(t,e,r)}})),n.current=Object.assign(n.current,r),n.current),m=_e()[0],h=m.isResolved,g=m.options,w=(0,Lt.useState)(null),S=w[0],O=w[1],j=(0,Lt.useState)(!0),_=j[0],P=j[1],E=(0,Lt.useState)(null)[1];function k(){null!==v.current&&v.current.close().catch(function(){})}return(null===(e=v.current)||void 0===e?void 0:e.updateProps)&&v.current.updateProps({message:f.message}),(0,Lt.useEffect)(function(){if(!1===h)return k;var t=ge(g.dataNamespace);if(void 0===t||void 0===t.Buttons)return E(function(){throw new Error(we({reactComponentName:Pe.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:g.components,sdkDataNamespace:g[ve]}))}),k;try{v.current=t.Buttons(le(le({},b),{onInit:function(t,e){O(e),"function"==typeof f.onInit&&f.onInit(t,e)}}))}catch(t){return E(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(t))})}return!1===v.current.isEligible()?(P(!1),k):y.current?(v.current.render(y.current).catch(function(t){null!==y.current&&0!==y.current.children.length&&E(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(t))})}),k):k},pe(pe([h],l,!0),[f.fundingSource],!1)),(0,Lt.useEffect)(function(){null!==S&&(!0===c?S.disable().catch(function(){}):S.enable().catch(function(){}))},[c,S]),qt().createElement(qt().Fragment,null,_?qt().createElement("div",{ref:y,style:p,className:d}):u)};function Ee(t,e){void 0===e&&(e={});var r=document.createElement("script");return r.src=t,Object.keys(e).forEach(function(t){r.setAttribute(t,e[t]),"data-csp-nonce"===t&&r.setAttribute("nonce",e["data-csp-nonce"])}),r}function ke(t,e){if(void 0===e&&(e=Promise),Te(t,e),"undefined"==typeof document)return e.resolve(null);var r=function(t){var e,r,n=t.sdkBaseUrl,o=t.environment,i=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["sdkBaseUrl","environment"]),a=n||function(t){return"sandbox"===t?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}(o),c=i,u=Object.keys(c).filter(function(t){return void 0!==c[t]&&null!==c[t]&&""!==c[t]}).reduce(function(t,e){var r,n=c[e].toString();return r=function(t,e){return(e?"-":"")+t.toLowerCase()},"data"===(e=e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,r)).substring(0,4)||"crossorigin"===e?t.attributes[e]=n:t.queryParams[e]=n,t},{queryParams:{},attributes:{}}),s=u.queryParams,l=u.attributes;return s["merchant-id"]&&-1!==s["merchant-id"].indexOf(",")&&(l["data-merchant-id"]=s["merchant-id"],s["merchant-id"]="*"),{url:"".concat(a,"?").concat((e=s,r="",Object.keys(e).forEach(function(t){0!==r.length&&(r+="&"),r+=t+"="+e[t]}),r)),attributes:l}}(t),n=r.url,o=r.attributes,i=o["data-namespace"]||"paypal",a=Ae(i);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),function(t,e){var r=document.querySelector('script[src="'.concat(t,'"]'));if(null===r)return null;var n=Ee(t,e),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(n.dataset).length)return null;var i=!0;return Object.keys(o.dataset).forEach(function(t){o.dataset[t]!==n.dataset[t]&&(i=!1)}),i?r:null}(n,o)&&a?e.resolve(a):function(t,e){void 0===e&&(e=Promise),Te(t,e);var r=t.url,n=t.attributes;if("string"!=typeof r||0===r.length)throw new Error("Invalid url.");if(void 0!==n&&"object"!=typeof n)throw new Error("Expected attributes to be an object.");return new e(function(t,e){if("undefined"==typeof document)return t();!function(t){var e=t.url,r=t.attributes,n=t.onSuccess,o=t.onError,i=Ee(e,r);i.onerror=o,i.onload=n,document.head.insertBefore(i,document.head.firstElementChild)}({url:r,attributes:n,onSuccess:function(){return t()},onError:function(){var t=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return e(t)}})})}({url:n,attributes:o},e).then(function(){var t=Ae(i);if(t)return t;throw new Error("The window.".concat(i," global variable is not available."))})}function Ae(t){return window[t]}function Te(t,e){if("object"!=typeof t||null===t)throw new Error("Expected an options object.");var r=t.environment;if(r&&"production"!==r&&"sandbox"!==r)throw new Error('The `environment` option must be either "production" or "sandbox".');if(void 0!==e&&"function"!=typeof e)throw new Error("Expected PromisePonyfill to be a function.")}Pe.displayName="PayPalButtons","function"==typeof SuppressedError&&SuppressedError;var De=function(t){var e=t.className,r=void 0===e?"":e,n=t.children,o=fe(t,["className","children"]),i=_e()[0],a=i.isResolved,c=i.options,u=(0,Lt.useRef)(null),s=(0,Lt.useState)(!0),l=s[0],f=s[1],p=(0,Lt.useState)(null)[1];return(0,Lt.useEffect)(function(){if(!1!==a){var t=ge(c[ve]);if(void 0===t||void 0===t.Marks)return p(function(){throw new Error(we({reactComponentName:De.displayName,sdkComponentKey:"marks",sdkRequestedComponents:c.components,sdkDataNamespace:c[ve]}))});!function(t){var e=u.current;if(!e||!t.isEligible())return f(!1);e.firstChild&&e.removeChild(e.firstChild),t.render(e).catch(function(t){null!==e&&0!==e.children.length&&p(function(){throw new Error("Failed to render <PayPalMarks /> component. ".concat(t))})})}(t.Marks(le({},o)))}},[a,o.fundingSource]),qt().createElement(qt().Fragment,null,l?qt().createElement("div",{ref:u,className:r}):n)};De.displayName="PayPalMarks";var Re=function(t){var e=t.className,r=void 0===e?"":e,n=t.forceReRender,o=void 0===n?[]:n,i=fe(t,["className","forceReRender"]),a=_e()[0],c=a.isResolved,u=a.options,s=(0,Lt.useRef)(null),l=(0,Lt.useRef)(null),f=(0,Lt.useState)(null)[1];return(0,Lt.useEffect)(function(){if(!1!==c){var t=ge(u[ve]);if(void 0===t||void 0===t.Messages)return f(function(){throw new Error(we({reactComponentName:Re.displayName,sdkComponentKey:"messages",sdkRequestedComponents:u.components,sdkDataNamespace:u[ve]}))});l.current=t.Messages(le({},i)),l.current.render(s.current).catch(function(t){null!==s.current&&0!==s.current.children.length&&f(function(){throw new Error("Failed to render <PayPalMessages /> component. ".concat(t))})})}},pe([c],o,!0)),qt().createElement("div",{ref:s,className:r})};Re.displayName="PayPalMessages";var xe=function(t){var e,r=t.options,n=void 0===r?{clientId:"test"}:r,o=t.children,i=t.deferLoading,a=void 0!==i&&i,c=(0,Lt.useReducer)(Oe,{options:le(le({},n),(e={},e.dataJsSdkLibrary=ye,e[be]=ye,e[de]="".concat(Se(n)),e)),loadingStatus:a?ne.INITIAL:ne.PENDING}),u=c[0],s=c[1];return(0,Lt.useEffect)(function(){if(!1===a&&u.loadingStatus===ne.INITIAL)return s({type:oe.LOADING_STATUS,value:ne.PENDING});if(u.loadingStatus===ne.PENDING){var t=!0;return ke(u.options).then(function(){t&&s({type:oe.LOADING_STATUS,value:ne.RESOLVED})}).catch(function(e){console.error("".concat("Failed to load the PayPal JS SDK script."," ").concat(e)),t&&s({type:oe.LOADING_STATUS,value:{state:ne.REJECTED,message:String(e)}})}),function(){t=!1}}},[u.options,a,u.loadingStatus]),qt().createElement(je.Provider,{value:le(le({},u),{dispatch:s})},o)};function Ie(){}function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function Ne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(r),!0).forEach(function(e){Be(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Be(t,e,r){return(e=function(t){var e=function(t){if("object"!=Ce(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ce(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}(0,Lt.createContext)({cardFieldsForm:null,fields:{},registerField:Ie,unregisterField:Ie});var Fe=function(t){var e=t.config,r=t.fundingSource,n=t.buttonAttributes,o=(0,nt.useMemo)(function(){return Me(Me({clientId:"test"},e.scriptData.url_params),{},{dataNamespace:"ppcp-blocks-editor-paypal-buttons",components:"buttons"})},[]),i=(0,nt.useMemo)(function(){var t=Pt(e.scriptData.button.style,r);return n?Me(Me({},t),{},{height:n.height?Number(n.height):t.height,borderRadius:n.borderRadius?Number(n.borderRadius):t.borderRadius}):t},[r,n]);return React.createElement(xe,{options:o},React.createElement(Pe,{className:"ppc-button-container-".concat(r),fundingSource:r,style:i,forceReRender:[n||{}],onClick:function(){return!1}}))},Ge=function(t){var e=t.components,r=t.config,n=e.PaymentMethodIcons;return React.createElement(React.Fragment,null,React.createElement("span",{dangerouslySetInnerHTML:{__html:r.title}}),React.createElement(n,{icons:r.icon,align:"right"}))};function Le(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,s=Object.create(u.prototype);return qe(s,"_invoke",function(r,n,o){var i,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return i=e,c=0,u=t,p.n=r,a}};function d(r,n){for(c=r,u=n,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],d=p.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,p.v=n,p.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,p.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(p.n=-1),d(c,u)):p.n=u:p.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=p.n<0)?u:r.call(n,p))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(r,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(qe(e={},n,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,qe(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,qe(f,"constructor",s),qe(s,"constructor",u),u.displayName="GeneratorFunction",qe(s,o,"GeneratorFunction"),qe(f),qe(f,o,"Generator"),qe(f,n,function(){return this}),qe(f,"toString",function(){return"[object Generator]"}),(Le=function(){return{w:i,m:p}})()}function qe(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}qe=function(t,e,r,n){function i(e,r){qe(t,e,function(t){return this._invoke(e,r,t)})}e?o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(i("next",0),i("throw",1),i("return",2))},qe(t,e,r,n)}function Ue(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Je(t,e){if(t){if("string"==typeof t)return We(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?We(t,e):void 0}}function We(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var He=wc.wcSettings.getSetting("ppcp-gateway_data");window.ppcpFundingSource=He.fundingSource;var Qe,Ve,Ke=null,$e=["products"],ze=!0;if(a(He.scriptData)&&(He.scriptData.user.is_logged||"cart-block"!==He.scriptData.context||i(He.scriptData)||null!==(Qe=He.scriptData)&&void 0!==Qe&&null!==(Qe=Qe.save_payment_methods)&&void 0!==Qe&&Qe.id_token||(ze=!1),!He.scriptData.user.is_logged&&"cart-block"===He.scriptData.context&&a(He.scriptData)&&He.scriptData.is_free_trial_cart&&(ze=!1),i(He.scriptData)||He.scriptData.can_save_vault_token||(ze=!1),i(He.scriptData)&&!He.scriptData.subscription_product_allowed&&(ze=!1),!He.scriptData.vault_v3_enabled&&He.scriptData.is_free_trial_cart&&(ze=!1),$e.push("subscriptions")),ze){if(He.placeOrderEnabled&&!He.scriptData.continuation){var Ze=React.createElement("div",{dangerouslySetInnerHTML:{__html:He.description}});He.placeOrderButtonDescription&&(Ze=React.createElement("div",null,React.createElement("p",{dangerouslySetInnerHTML:{__html:He.description}}),React.createElement("p",{style:{textAlign:"center"},className:"ppcp-place-order-description",dangerouslySetInnerHTML:{__html:He.placeOrderButtonDescription}}))),(0,n.registerPaymentMethod)({name:He.id,label:React.createElement(Ge,{config:He}),content:Ze,edit:Ze,placeOrderButtonLabel:He.placeOrderButtonText,ariaLabel:He.title,canMakePayment:function(t){var e,r=null==t||null===(e=t.cartTotals)||void 0===e?void 0:e.total_price;return parseInt(r)>0},supports:{features:$e}})}if(He.scriptData.continuation)(0,n.registerPaymentMethod)({name:He.id,label:React.createElement("div",{dangerouslySetInnerHTML:{__html:He.title}}),content:React.createElement(se,{config:He,isEditing:!1}),edit:React.createElement(Fe,{config:He,fundingSource:"paypal"}),ariaLabel:He.title,canMakePayment:function(){return!0},supports:{features:[].concat($e,["ppcp_continuation"])}});else if(He.smartButtonsEnabled){var Xe,Ye=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=Je(t))){e&&(t=e);var _n=0,r=function(){};return{s:r,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,i=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){i=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(i)throw n}}}}(He.scriptData.is_free_trial_cart?["paypal"]:["paypal"].concat(function(t){if(Array.isArray(t))return We(t)}(Ve=He.enabledFundingSources)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(Ve)||Je(Ve)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));try{var tr=function(){var t,e,r=Xe.value;(0,n.registerExpressPaymentMethod)({name:"".concat(He.id,"-").concat(r),title:"PayPal",description:(0,o.__)("Eligible users will see the PayPal button.","woocommerce-paypal-payments"),gatewayId:"ppcp-gateway",paymentMethodId:He.id,label:React.createElement("div",{dangerouslySetInnerHTML:{__html:He.title}}),content:React.createElement(se,{config:He,isEditing:!1,fundingSource:r}),edit:React.createElement(Fe,{config:He,fundingSource:r}),ariaLabel:He.title,canMakePayment:(t=Le().m(function t(){return Le().w(function(t){for(;;)switch(t.n){case 0:return Ke||(Ke=M("ppcpBlocksPaypalExpressButtons",He.scriptData)).then(function(){new rt(He.scriptData).init()}),t.n=1,Ke;case 1:return t.a(2,ppcpBlocksPaypalExpressButtons.Buttons({fundingSource:r}).isEligible())}},t)}),e=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){Ue(i,n,o,a,c,"next",t)}function c(t){Ue(i,n,o,a,c,"throw",t)}a(void 0)})},function(){return e.apply(this,arguments)}),supports:{features:$e,style:["height","borderRadius"]}})};for(Ye.s();!(Xe=Ye.n()).done;)tr()}catch(t){Ye.e(t)}finally{Ye.f()}}}})();